!function(){"use strict";var e,t,o,r={745:function(e,t,o){var r=o(190),i=o(848),n=o(338),a=o(302),s=o(540);const l=(e,t)=>r.xd.t("H5PEditor.TopicMap",e,t),d=(e,t)=>{if(!r.xd.findSemanticsField)return null;const o=r.xd.findSemanticsField(e,t);if(!o)throw new Error(`Could not find the \`${e}\` field`);return Array.isArray(o)?(console.error(`\`${e}\` is an array, which means that more than one field with the name was found.`,o),o[0]):o};var c;!function(e){e.Directional="0",e.BiDirectional="1",e.NonDirectional="2"}(c||(c={}));var u=o(534),m=o.n(u);const h=(e,t)=>e/t*100,p=(e,t)=>e/t*100,f=(e,t,o,r,i)=>{let{newPosition:n,newSize:a}=i;return e.map((e=>{if(e.id!==t.id)return e;const i={...e};return n&&(i.xPercentagePosition=h(n.x,o),i.yPercentagePosition=p(n.y,r)),a&&(i.widthPercentage=h(a.width,o),i.heightPercentage=p(a.height,r)),i}))},g=(e,t,o,r,i)=>{let{id:n,type:a,position:s,size:l}=e;const d=((e,t,o,r)=>{const i=[],n=o+r;let a=0;for(let o=0;o<t;o+=n)for(let t=0;t<e;t+=n)i.push({x:t,y:o,index:a}),a+=1;return i})(t,o,r,i);return d.filter((e=>{return t=s,o=l,(r=e).x>=t.x-5&&r.x<=t.x+o.width&&r.y>=t.y-5&&r.y<=t.y+o.height;var t,o,r})).map((e=>{let{x:t,y:o,index:r}=e;return{occupiedById:n,occupiedByType:a,x:t,y:o,index:r}}))},b=(e,t,o,r,i)=>{const n=[];for(const a of e)n.push(...g(a,t,o,r,i));return n},x=(e,t,o)=>{const r=t*e/100;return r>o?r:o},w=(e,t)=>t*e/100,y=(e,t,o)=>({id:e.id,type:"item",position:{x:w(e.xPercentagePosition,t.width),y:w(e.yPercentagePosition,t.height)},size:{width:x(e.widthPercentage,t.width,o),height:x(e.heightPercentage,t.height,o)}}),v=(e,t,o,r,i,n,a)=>{const s=g({id:t,type:"item",position:e,size:o},r.width,r.height,i,n);var l,d;return l=a.filter((e=>e.occupiedById!==t)),d=s,!(m()(l,d,"index").length>0)},k=(e,t)=>e?t.find((t=>t.id===e))??null:null,A=(e,t)=>e>t/2,P=(e,t,o)=>({x:e.x/t*100,y:e.y/o*100}),S={[c.BiDirectional]:"↔",[c.Directional]:"⟶",[c.NonDirectional]:"―"},C=(e,t,o,r)=>{const i=k(e,r),n=k(t,r);if(!i)throw new Error("Start item not found");if(!n)throw new Error("End item not found");return`${i.label} ${S[o]} ${n.label}`},j=(e,t)=>Math.abs(e.x-t.x)>Math.abs(e.y-t.y),I=(e,t)=>{if(e.arrowType===c.BiDirectional){if(t&&e.startGridPosition.x<=e.endGridPosition.x)return.5;if(t)return-1.5}return-.5},T=(e,t)=>{if(e.arrowType===c.BiDirectional){if(!t&&e.startGridPosition.y<=e.endGridPosition.y)return.5;if(!t)return-1.75}return-.5},z=e=>{const t=e.breakpoints?.slice(-1)[0]??e.startGridPosition,o=j(t,e.endGridPosition);return e.arrowType===c.Directional||e.arrowType===c.BiDirectional?o&&t.x<=e.endGridPosition.x?-1.75:o?.5:-.5:e.arrowType===c.NonDirectional?(o&&(t.x,e.endGridPosition.x),-.5):0},E=e=>{const t=e.breakpoints?.slice(-1)[0]??e.startGridPosition,o=j(t,e.endGridPosition);return e.arrowType===c.Directional||e.arrowType===c.BiDirectional?o?-.5:t.y<=e.endGridPosition.y?-1.75:.5:e.arrowType===c.NonDirectional?(!o&&(t.y,e.endGridPosition.y),-.5):0},M=(e,t,o)=>{const r=j(e,t);return{x:e.x+I({arrowType:o,startGridPosition:e,endGridPosition:t},r),y:e.y+T({arrowType:o,startGridPosition:e,endGridPosition:t},r)}},O=(e,t,o)=>({x:t.x+z({arrowType:o,startGridPosition:e,endGridPosition:t,breakpoints:[]}),y:t.y+E({arrowType:o,startGridPosition:e,endGridPosition:t,breakpoints:[]})});var D=o(72),B=o.n(D),F=o(825),V=o.n(F),N=o(659),H=o.n(N),_=o(56),G=o.n(_),q=o(159),J=o.n(q),L=o(113),R=o.n(L),U=o(692),W={};W.styleTagTransform=R(),W.setAttributes=G(),W.insert=H().bind(null,"head"),W.domAPI=V(),W.insertStyleElement=J(),B()(U.A,W);var Z=U.A&&U.A.locals?U.A.locals:void 0;const $=e=>{let{fields:t,params:o,parent:n,formClassName:a,onSave:d}=e;const c=(0,s.useRef)(null),u=l("semantics-form_save"),[m,h]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{h(!0)}),[]),(0,s.useEffect)((()=>{if(!c.current||m)return;const e=r.xd.$(c.current);r.xd.processSemanticsChunk(t,o,e,n)}),[t,o,n,c,m]),(0,i.jsxs)("form",{className:`${a} h5peditor`,onSubmit:e=>e.preventDefault(),children:[(0,i.jsx)("div",{ref:c}),(0,i.jsx)("button",{type:"button",className:Z.saveButton,onClick:()=>d(o),children:u})]})};var Y=o(470),X={};X.styleTagTransform=R(),X.setAttributes=G(),X.insert=H().bind(null,"head"),X.domAPI=V(),X.insertStyleElement=J(),B()(Y.A,X),Y.A&&Y.A.locals&&Y.A.locals;const K=e=>{let{semantics:t,params:o,parent:r,itemId:n,onSave:a}=e;const[l,c]=(0,s.useState)(),[u,m]=(0,s.useState)();(0,s.useEffect)((()=>{const e=(e=>d("arrowItems",e))(t);c(e),o.arrowItems&&m({...o,arrowItems:o.arrowItems.filter((e=>e.id===n))})}),[n,o,t]);const h=(0,s.useCallback)((e=>{if(!e.arrowItems)return;const t=e.arrowItems[0],r=o.arrowItems?.map((e=>e.id===t.id?t:e))??[];a({...e,arrowItems:r})}),[a,o.arrowItems]);return u&&l?(0,i.jsx)($,{fields:[l],params:u,parent:r,onSave:h,formClassName:"arrow-item-form"}):null};var Q=o(107),ee=o(49),te=o(934),oe={};oe.styleTagTransform=R(),oe.setAttributes=G(),oe.insert=H().bind(null,"head"),oe.domAPI=V(),oe.insertStyleElement=J(),B()(te.Ay,oe);var re=te.Ay&&te.Ay.locals?te.Ay.locals:void 0;const ie={medium:450,large:750},ne=e=>{let{isOpen:t,title:o,description:r,onOpenChange:n,children:a,size:s}=e;const d=l("dialog_close"),c=ie[s];return(0,i.jsxs)(Q.bL,{open:t,onOpenChange:n,children:[(0,i.jsx)(Q.hJ,{className:re.overlay}),(0,i.jsxs)(Q.UC,{className:re.content,style:{maxWidth:c},children:[(0,i.jsx)(Q.hE,{className:re.title,children:o}),r?(0,i.jsx)(Q.VY,{children:r}):(0,i.jsx)(Q.VY,{className:re.visuallyHidden,"aria-hidden":"true"}),(0,i.jsx)(Q.bm,{className:re.closeButton,"aria-label":d,children:(0,i.jsx)(ee.MKb,{})}),a]})]})};var ae=o(701),se=o(520),le={};le.styleTagTransform=R(),le.setAttributes=G(),le.insert=H().bind(null,"head"),le.domAPI=V(),le.insertStyleElement=J(),B()(se.Ay,le);var de=se.Ay&&se.Ay.locals?se.Ay.locals:void 0;const ce=e=>{let{className:t}=e;return(0,i.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,i.jsx)("rect",{fill:"none",height:"24",width:"24"}),(0,i.jsx)("path",{d:"M16,5l-1.4,1.4l4.6,4.6H3v2h16.2l-4.6,4.6L16,19l7-7L16,5z"}),(0,i.jsx)("path",{d:"M7.8,19l1.4-1.4L4.6,13h16.2v-2H4.6l4.6-4.6L7.8,5l-7,7L7.8,19z"})]})},ue=e=>{let{className:t}=e;return(0,i.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,i.jsx)("rect",{fill:"none",height:"24",width:"24"}),(0,i.jsx)("path",{d:"M15,5l-1.41,1.41L18.17,11H2V13h16.17l-4.59,4.59L15,19l7-7L15,5z"})]})},me=e=>{let{className:t}=e;return(0,i.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,i.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"})]})},he=e=>{let{className:t}=e;return(0,i.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,i.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})]})},pe=e=>{let{className:t}=e;return(0,i.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,i.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})]})},fe=e=>{let{className:t}=e;return(0,i.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,i.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})]})},ge=e=>{let{className:t}=e;return(0,i.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,i.jsx)("rect",{fill:"none",height:"24",width:"24"}),(0,i.jsx)("path",{d:"M19.2,11H3v2h16.2 M4.6,13h16.2v-2H4.6"})]})};var be;!function(e){e.Blue="1",e.Green="2",e.Red="3",e.Gray="4"}(be||(be={}));const xe=Object.values(be).map((e=>({value:e,labelKey:`global_theme-${e}`}))),we=be.Blue;var ye=o(780),ve={};ve.styleTagTransform=R(),ve.setAttributes=G(),ve.insert=H().bind(null,"head"),ve.domAPI=V(),ve.insertStyleElement=J(),B()(ye.Ay,ve);var ke=ye.Ay&&ye.Ay.locals?ye.Ay.locals:void 0;const Ae=e=>{let{setTheme:t,activeTheme:o}=e;const r=(0,s.useCallback)((()=>Array.from({length:4}).map(((e,t)=>(0,i.jsx)("span",{className:ke.colorCircle,style:{backgroundColor:`var(--theme-color-${t+1})`}},t)))),[]),n=(0,s.useMemo)((()=>xe.map((e=>{let{labelKey:n,value:a}=e;return(0,i.jsxs)("button",{type:"button",className:`theme-${a} ${ke.button}${a===o?` ${ke.buttonActive}`:""}`,onClick:()=>t(a),children:[l(n),(0,i.jsx)("div",{className:ke.colorCircles,children:r()})]},a)}))),[o,r,t]),a=l("theme-picker_label");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"h5peditor-label",children:a}),(0,i.jsx)("div",{className:ke.buttons,children:n})]})};var Pe=o(578),Se={};Se.styleTagTransform=R(),Se.setAttributes=G(),Se.insert=H().bind(null,"head"),Se.domAPI=V(),Se.insertStyleElement=J(),B()(Pe.A,Se);var Ce=Pe.A&&Pe.A.locals?Pe.A.locals:void 0;const je=e=>{let{backgroundImageField:t,isOpen:o,onSave:r,params:n,parent:a,setIsOpen:s}=e;const d=l("appearance-dialog_title");return(0,i.jsx)(ne,{title:d,isOpen:o,size:"medium",onOpenChange:s,children:(0,i.jsxs)("div",{className:Ce.dialogContent,children:[(0,i.jsx)("div",{className:Ce.themePicker,children:(0,i.jsx)(Ae,{setTheme:e=>{r({...n,colorTheme:e})},activeTheme:n.colorTheme??we})}),(0,i.jsx)("div",{className:Ce.backgroundImageForm,children:(0,i.jsx)($,{fields:[t],params:n,parent:a,onSave:e=>{r(e),s(!1)}})})]})})};var Ie=o(980),Te={};Te.styleTagTransform=R(),Te.setAttributes=G(),Te.insert=H().bind(null,"head"),Te.domAPI=V(),Te.insertStyleElement=J(),B()(Ie.Ay,Te);var ze=Ie.Ay&&Ie.Ay.locals?Ie.Ay.locals:void 0;const Ee=e=>{let{icon:t,label:o,onClick:r,showActive:n,active:a,isDisabled:s}=e;return(0,i.jsxs)("button",{type:"button",className:a&&n?`${ze.toolbarButton} ${ze.active}`:ze.toolbarButton,disabled:s,onClick:r,"aria-label":o,children:[(0,i.jsx)(Ve,{icon:t,className:ze.icon}),(0,i.jsx)("div",{className:ze.tooltip,children:o})]})};var Me=o(412),Oe={};Oe.styleTagTransform=R(),Oe.setAttributes=G(),Oe.insert=H().bind(null,"head"),Oe.domAPI=V(),Oe.insertStyleElement=J(),B()(Me.A,Oe);var De=Me.A&&Me.A.locals?Me.A.locals:void 0;var Be;!function(e){e.MapAppearance="mapAppearance",e.CreateBox="createBox",e.CreateArrow="createArrow"}(Be||(Be={}));const Fe=e=>{let{setActiveTool:t,activeTool:o,isArrowButtonDisabled:r,setParams:n,backgroundImageField:a,params:d,parent:c}=e;const[u,m]=(0,s.useState)(o),[h,p]=(0,s.useState)(!1),f=e=>{m(u!==e?e:null),t(u!==e?e:null)},g=(0,s.useCallback)((e=>{const t=u===e,r=o===e;return!(!t||!r)||!(!t||r)&&(m(o),!0)}),[u,o]);return(0,i.jsxs)("div",{className:De.toolbar,children:[(0,i.jsx)(Ee,{icon:Be.MapAppearance,label:l("toolbar-button-type_map-appearance"),onClick:()=>p((e=>!e)),active:!1,showActive:!1,isDisabled:!1}),(0,i.jsx)(Ee,{icon:Be.CreateBox,label:l("toolbar-button-type_create-box"),onClick:()=>f(Be.CreateBox),active:g(Be.CreateBox),showActive:!0,isDisabled:!1}),(0,i.jsx)(Ee,{icon:Be.CreateArrow,label:l(r?"toolbar-button-type_cannot-create-arrow":"toolbar-button-type_create-arrow"),onClick:()=>f(Be.CreateArrow),active:g(Be.CreateArrow),showActive:!0,isDisabled:r}),(0,i.jsx)(je,{isOpen:h,setIsOpen:p,onSave:n,backgroundImageField:a,params:d,parent:c})]})},Ve=e=>{let{icon:t,className:o}=e;const r={[Be.MapAppearance]:fe,[Be.CreateBox]:me,[Be.CreateArrow]:ue,[Ge.Edit]:pe,[Ge.Delete]:he,[Ge.ArrowDirectional]:ue,[Ge.ArrowBiDirectional]:ce,[Ge.ArrowNonDirectional]:ge}[t]??fe;return(0,i.jsx)(r,{className:o})},Ne=e=>{let{icon:t,label:o,onClick:r}=e;return(0,i.jsxs)("button",{type:"button",className:de.contextMenuButton,onClick:r,"aria-label":o,children:[(0,i.jsx)(Ve,{icon:t,className:de.icon}),(0,i.jsx)("div",{className:de.tooltip,children:o})]})};var He=o(772),_e={};_e.styleTagTransform=R(),_e.setAttributes=G(),_e.insert=H().bind(null,"head"),_e.domAPI=V(),_e.insertStyleElement=J(),B()(He.Ay,_e);var Ge,qe=He.Ay&&He.Ay.locals?He.Ay.locals:void 0;!function(e){e.Edit="edit",e.Delete="delete",e.ArrowDirectional="directional",e.ArrowBiDirectional="biDirectional",e.ArrowNonDirectional="nonDirectional"}(Ge||(Ge={}));const Je=e=>{let{show:t,turnLeft:o,actions:r,x:n,y:a,gridWidth:s}=e;const l=o?qe.left:qe.right;let d,c;return n&&s&&(o?d=s-n-s/14:c=Math.max(n,0)),(0,i.jsx)("div",{className:`${qe.contextMenu} ${l} ${t&&qe.show} context-menu-button`,style:n&&a?{left:c,right:d,top:a}:void 0,children:r.map((e=>{let{icon:t,label:o,onClick:r}=e;return(0,i.jsx)(Ne,{icon:t,label:o,onClick:r},o)}))})};var Le=o(52),Re={};Re.styleTagTransform=R(),Re.setAttributes=G(),Re.insert=H().bind(null,"head"),Re.domAPI=V(),Re.insertStyleElement=J(),B()(Le.Ay,Re);var Ue=Le.Ay&&Le.Ay.locals?Le.Ay.locals:void 0;const We=e=>{let{item:t,cellSize:o,gapSize:n,editItem:a,deleteItem:d,selectedItemId:u,setSelectedItemId:m,updateArrowType:h,gridWidth:p,arrowStartId:f}=e;const g=r.wW.createUUID(),b=r.wW.createUUID(),[x,w]=(0,s.useState)(!1),y=(0,s.useCallback)((()=>{d(t.id),w(!1)}),[d,t.id]),v=(0,s.useCallback)((()=>{w(!1)}),[]),k=(0,s.useMemo)((()=>{const e={icon:Ge.Edit,label:l("context-menu_edit"),onClick:()=>a(t.id)},o={icon:Ge.Delete,label:l("context-menu_delete"),onClick:()=>w(!0)};return[e,{icon:Ge.ArrowDirectional,label:l("context-menu_arrow-directional"),onClick:()=>h(c.Directional,t.id)},{icon:Ge.ArrowBiDirectional,label:l("context-menu_arrow-bi-directional"),onClick:()=>h(c.BiDirectional,t.id)},{icon:Ge.ArrowNonDirectional,label:l("context-menu_arrow-non-directional"),onClick:()=>h(c.NonDirectional,t.id)},o]}),[a,t.id,h]),P=null==t.startPosition||null==t.endPosition||Math.abs(t.startPosition.x-t.endPosition.x)>Math.abs(t.startPosition.y-t.endPosition.y);let S={x:.5*(o+n),y:1.5*(o+n)},C={x:6.5*(o+n),y:1.5*(o+n)};if(null!=t.startGridPosition&&null!=t.endGridPosition){const e=I(t,P),r=T(t,P),i=z(t),a=E(t);S={x:(t.startGridPosition.x+e)*(o+n),y:(t.startGridPosition.y+r)*(o+n)},C={x:(t.endGridPosition.x+i)*(o+n),y:(t.endGridPosition.y+a)*(o+n)}}const j=`M ${S.x} ${S.y} ${t.breakpoints?.map((e=>`L ${(e.x-.5)*(o+n)} ${(e.y-.5)*(o+n)}`)).join(" ")??""} L ${C.x} ${C.y}`,M={x:P?(S.x+C.x)/2:C.x-2*(o+n),y:P?C.y-1*(o+n):(S.y+C.y)/2};return(0,i.jsxs)("div",{className:Ue.arrow,children:[(0,i.jsxs)("svg",{className:Ue.arrowSvg,children:[(0,i.jsxs)("defs",{children:[(0,i.jsx)("marker",{id:g,markerWidth:"10",markerHeight:"10",refX:"0.7",refY:"1",orient:"auto",children:(0,i.jsx)("path",{d:"M0,0 L0,2 L1.5,1 z",fill:"var(--theme-color-4)",className:Ue.arrowPath,onClick:()=>m(t.id)})}),(0,i.jsx)("marker",{id:b,markerWidth:"10",markerHeight:"10",refX:"0.7",refY:"1",orient:"auto-start-reverse",children:(0,i.jsx)("path",{d:"M0,0 L0,2 L1.5,1 z",fill:"var(--theme-color-4)",className:Ue.arrowPath,onClick:()=>m(t.id)})})]}),(0,i.jsx)("path",{className:`${null===u?Ue.path:Ue.pathSelected} ${null===f?Ue.selectable:""}`,d:j,fill:"transparent",stroke:"var(--theme-color-4)",strokeWidth:.66*o,markerEnd:t.arrowType===c.BiDirectional||t.arrowType===c.Directional?`url(#${g})`:"",markerStart:t.arrowType===c.BiDirectional?`url(#${b})`:"",onClick:()=>m(t.id),onDoubleClick:()=>a(t.id)})]}),(0,i.jsx)(Je,{actions:k,show:u===t.id,turnLeft:A(M.x,p),x:M.x,y:M.y,gridWidth:p}),(0,i.jsx)(ne,{isOpen:x,title:l("draggable_delete-confirmation"),onOpenChange:w,size:"medium",children:(0,i.jsxs)("div",{className:Ue.deleteConfirmationButtons,children:[(0,i.jsx)("button",{type:"button",className:Ue.deleteConfirmationPositive,onClick:y,children:l("draggable_delete-positive")}),(0,i.jsx)("button",{type:"button",className:Ue.deleteConfirmationNegative,onClick:v,children:l("draggable_delete-negative")})]})})]})},Ze=e=>{let{position:t,cellSize:o,gapSize:r}=e;const n={x:(t.x-.5)*(o+r),y:(t.y-.5)*(o+r)};return(0,i.jsx)("circle",{cx:n.x,cy:n.y,r:o/3,strokeWidth:"2",stroke:"var(--theme-color-4)",fill:"var(--theme-color-3)"})};var $e=o(698),Ye={};Ye.styleTagTransform=R(),Ye.setAttributes=G(),Ye.insert=H().bind(null,"head"),Ye.domAPI=V(),Ye.insertStyleElement=J(),B()($e.A,Ye);var Xe=$e.A&&$e.A.locals?$e.A.locals:void 0;const Ke=e=>{let{arrowIndicators:t,breakpoints:o,cellSize:r,gapSize:n,currentMousePosition:a}=e;const s=e=>`${(e.x-.5)*(r+n)} ${(e.y-.5)*(r+n)}`,l=o&&o.length>0?`M ${s(o[0])} ${o.map((e=>`L ${s(e)}`)).join(" ")} ${a?`L ${s(a)}`:""}`:"";return(0,i.jsxs)("svg",{className:Xe.arrowSvg,children:[t,(0,i.jsx)("path",{d:l,fill:"transparent",stroke:"var(--theme-color-4)",strokeOpacity:.5,strokeWidth:.66*r})]})},Qe=(e,t,o)=>Math.min(o,Math.max(e,t)),et=(e,t,o,r)=>{const i=o+t,n=e/i,a=Math.floor(n)*i-t,s=Math.ceil(n)*i-t;return Qe(o,e-a<s-e?a:s,r)},tt=(e,t,o,r,i)=>{const n=o+t,a=Math.floor(e/n)*n,s=Math.ceil(e/n)*n,l=Math.abs(e-a)<Math.abs(e-s);return Qe(0,l?a:s,r-i)},ot=e=>{let t;if((e=>null!=e.clientX)(e)){const{clientX:o,clientY:r}=e;t={x:o,y:r}}else{const{clientX:o,clientY:r}=e.touches[0];t={x:o,y:r}}return t},rt=e=>0===e.length?"":e[0].toUpperCase()+e.slice(1);var it=o(144),nt={};nt.styleTagTransform=R(),nt.setAttributes=G(),nt.insert=H().bind(null,"head"),nt.domAPI=V(),nt.insertStyleElement=J(),B()(it.Ay,nt);var at=it.Ay&&it.Ay.locals?it.Ay.locals:void 0;const st=e=>{let{labelText:t,position:o,onScaleStop:r,onScaleStart:n}=e;const[a,l]=(0,s.useState)(!1),d=(0,s.useRef)(null),c=at[`scaleHandle${o.split("-").map(rt).join("")}`],u=(0,s.useCallback)((e=>{l(!0),n(),e.stopPropagation()}),[n]),m=(0,s.useCallback)((()=>{a&&(l(!1),r())}),[a,r]);return(0,s.useEffect)((()=>(window.addEventListener("mouseup",m),window.addEventListener("touchend",m),()=>{window.removeEventListener("mouseup",m),window.removeEventListener("touchend",m)})),[m]),(0,i.jsx)("div",{ref:d,role:"button",tabIndex:0,className:`${at.scaleHandle} ${c} scaleHandle`,"aria-label":t,onMouseDown:u,onTouchStart:u})},lt=e=>{let{setIsResizing:t,startResize:o,stopResize:r,verticalScaleHandleLabelText:n,horizontalScaleHandleLabelText:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(st,{position:"top",onScaleStart:()=>{t(!0),o("horizontal-top")},onScaleStop:()=>r(),labelText:n}),(0,i.jsx)(st,{position:"top-right",onScaleStart:()=>{t(!0),o("top")},onScaleStop:()=>r(),labelText:n}),(0,i.jsx)(st,{position:"right",onScaleStart:()=>{t(!0),o("vertical")},onScaleStop:()=>r(),labelText:a}),(0,i.jsx)(st,{position:"bottom-right",onScaleStart:()=>{t(!0),o("none")},onScaleStop:()=>r(),labelText:a}),(0,i.jsx)(st,{position:"bottom",onScaleStart:()=>{t(!0),o("horizontal")},onScaleStop:()=>r(),labelText:n}),(0,i.jsx)(st,{position:"bottom-left",onScaleStart:()=>{t(!0),o("left")},onScaleStop:()=>r(),labelText:n}),(0,i.jsx)(st,{position:"left",onScaleStart:()=>{t(!0),o("vertical-left")},onScaleStop:()=>r(),labelText:a}),(0,i.jsx)(st,{position:"top-left",onScaleStart:()=>{t(!0),o("top-left")},onScaleStop:()=>r(),labelText:a})]})};var dt=o(588),ct={};ct.styleTagTransform=R(),ct.setAttributes=G(),ct.insert=H().bind(null,"head"),ct.domAPI=V(),ct.insertStyleElement=J(),B()(dt.Ay,ct);var ut=dt.Ay&&dt.Ay.locals?dt.Ay.locals:void 0;const mt="draggable_not-selected",ht=e=>{let{id:t,initialXPosition:o,initialYPosition:r,updatePosition:n,initialWidth:a,initialHeight:d,gapSize:c,cellSize:u,gridSize:m,occupiedCells:h,isPreview:p,openDeleteDialogue:f,setSelectedItem:g,selectedItem:b,startResize:x,children:w,mouseOutsideGrid:y,editItem:k,showScaleHandles:P,onPointerDown:S,activeTool:C}=e;const[j,I]=(0,s.useState)(!1),[T,z]=(0,s.useState)(b===t),[E,M]=(0,s.useState)(l(mt)),[O,D]=(0,s.useState)(null),[{width:B,height:F},V]=(0,s.useState)({width:et(a,c,u,m.width),height:et(d,c,u,m.height)}),[N,H]=(0,s.useState)({x:tt(o,c,u,m.width,B),y:tt(r,c,u,m.height,F)}),[_,G]=(0,s.useState)(N),[q,J]=(0,s.useState)(!1);(0,s.useEffect)((()=>V({width:et(a,c,u,m.width),height:et(d,c,u,m.height)})),[c,u,m.height,m.width,d,a]),(0,s.useEffect)((()=>{H({x:tt(o,c,u,m.width,B),y:tt(r,c,u,m.height,F)})}),[c,u,m.height,m.width,F,o,r,B]);const L=(0,s.useRef)(null),R=(0,s.useCallback)((e=>{S(ot(e));const o=null!==C,r=C===Be.CreateBox;if(o&&!r)return;I(!0),z(!0),g(t);const{x:i,y:n}=ot(e);D({x:i-N.x,y:n-N.y})}),[S,C,g,t,N.x,N.y]),U=(0,s.useCallback)(((e,t)=>({x:e,y:t})),[]),W=(0,s.useCallback)((e=>tt(e,c,u,m.width,B)),[c,u,m.width,B]),Z=(0,s.useCallback)((e=>tt(e,c,u,m.height,F)),[c,u,m.height,F]),$=(0,s.useCallback)((e=>v(e,t,{width:B,height:F},m,c,u,h)),[c,u,m,F,t,h,B]),Y=(0,s.useCallback)((()=>{const{x:e,y:t}=N,o=W(e),r=Z(t);if(null!=o&&null!=r){const e=U(o,r);$(e)?(H(e),n(e),G(e)):H(_)}D(null),I(!1)}),[N,W,Z,U,$,n,_]),X=(0,s.useCallback)((e=>{if(!j||!O)return;if(y)return void Y();const{x:t,y:o}=ot(e),r=U(t-O.x,o-O.y);H(r)}),[j,O,y,U,Y]),K=(0,s.useCallback)((e=>{e.preventDefault()}),[]);(0,s.useEffect)((()=>{M(l(T?"draggable_selected":mt))}),[T]),(0,s.useEffect)((()=>(window.addEventListener("mousemove",X),window.addEventListener("touchmove",X),()=>{window.removeEventListener("mousemove",X),window.removeEventListener("touchmove",X)})),[X]);const Q=(0,s.useCallback)((()=>{Y(),J(!1)}),[Y]),ee=(0,s.useMemo)((()=>[{icon:Ge.Edit,label:l("context-menu_edit"),onClick:()=>k(t)},{icon:Ge.Delete,label:l("context-menu_delete"),onClick:()=>f(t)}]),[k,t,f]);return(0,i.jsxs)("div",{id:t,ref:L,role:"button",tabIndex:0,draggable:"true",onDragStart:K,"aria-grabbed":j,className:`${ut.draggable} ${p&&ut.preview} draggable ${C===Be.CreateArrow&&ut.arrow_mode}`,onMouseDown:R,onTouchStart:R,style:{transform:`translateX(${N.x}px) translateY(${N.y}px)`,width:B+2,height:F+2,zIndex:j||b===t?2:void 0,pointerEvents:p||q?"none":void 0,transition:p||q?"none":void 0},"aria-label":E,onMouseUp:Y,onTouchEnd:Y,onDoubleClick:()=>k(t),"data-draggable":!0,children:[(0,i.jsx)("div",{className:ut.inner,tabIndex:-1,children:w}),C!==Be.CreateArrow&&P&&(0,i.jsx)(lt,{setIsResizing:J,startResize:x,stopResize:Q,verticalScaleHandleLabelText:"",horizontalScaleHandleLabelText:""}),(0,i.jsx)(Je,{actions:ee,show:b===t,turnLeft:A(N.x,m.width)})]})};var pt=o(220),ft={};ft.styleTagTransform=R(),ft.setAttributes=G(),ft.insert=H().bind(null,"head"),ft.domAPI=V(),ft.insertStyleElement=J(),B()(pt.A,ft);var gt=pt.A&&pt.A.locals?pt.A.locals:void 0;const bt=(0,s.memo)((e=>{let{onMouseDown:t,onMouseEnter:o,label:r,position:n}=e;return(0,i.jsx)("button",{type:"button",className:`grid-indicator ${gt.gridIndicator}`,onMouseDown:t,onMouseEnter:o,onTouchStart:t,onTouchMove:o,"aria-label":r,"data-grid-indicator":"true","data-x":n.x,"data-y":n.y})}),((e,t)=>e.onMouseDown===t.onMouseDown&&e.onMouseEnter===t.onMouseEnter)),xt=(0,s.createContext)(0);var wt;!function(e){e[e.Large=0]="Large",e[e.Medium=1]="Medium",e[e.Small=2]="Small"}(wt||(wt={}));const yt={[wt.Large]:1440,[wt.Medium]:1024,[wt.Small]:512};var vt=o(942),kt={};kt.styleTagTransform=R(),kt.setAttributes=G(),kt.insert=H().bind(null,"head"),kt.domAPI=V(),kt.insertStyleElement=J(),B()(vt.Ay,kt);var At=vt.Ay&&vt.Ay.locals?vt.Ay.locals:void 0;const Pt={[wt.Large]:At.large,[wt.Medium]:At.medium,[wt.Small]:At.small},St=e=>{let{item:t}=e;const o=(0,r.VG)(t.topicImage?.path),n=(()=>{const e=(0,s.useContext)(xt),t=e>yt[wt.Large],o=e>yt[wt.Medium];return t?wt.Large:o?wt.Medium:wt.Small})(),a=(0,s.useMemo)((()=>[At.topicMapItem,Pt[n]].join(" ")),[n]);return(0,i.jsxs)("div",{className:a,children:[t.topicImage&&o&&(0,i.jsx)("img",{className:At.image,src:o,alt:t.topicImageAltText??"",width:t.topicImage.width,height:t.topicImage.height}),(0,i.jsxs)("div",{className:`${At.inner} ${t.topicImage?.path?"":At.noImage}`,children:[(0,i.jsx)("div",{className:At.label,dangerouslySetInnerHTML:{__html:t.label}}),t.description&&(0,i.jsx)("div",{className:At.description,dangerouslySetInnerHTML:{__html:t.description}})]})]})};var Ct=o(110),jt={};jt.styleTagTransform=R(),jt.setAttributes=G(),jt.insert=H().bind(null,"head"),jt.domAPI=V(),jt.insertStyleElement=J(),B()(Ct.Ay,jt);var It=Ct.Ay&&Ct.Ay.locals?Ct.Ay.locals:void 0;const Tt=e=>{let{numberOfColumns:t,numberOfRows:o,initialItems:n,updateItems:a,initialArrowItems:d,updateArrowItems:u,updateGridDimensions:m,gapSize:h,setActiveTool:p,activeTool:g,setEditedItem:A,setEditedArrow:S,setSelectedItem:I,selectedItem:T,openDeleteDialogue:z,updateGrid:E,currentItemsLength:D,setCurrentItemsLength:B}=e;const[F,V]=(0,s.useState)(null),[N,H]=(0,s.useState)(n),[_,G]=(0,s.useState)(d??[]),[q,J]=(0,s.useState)([]),[L,R]=(0,s.useState)(null),[U,W]=(0,s.useState)(!1),[Z,$]=(0,s.useState)(null),[Y,X]=(0,s.useState)("none"),[K,Q]=(0,s.useState)(!1),[ee,te]=(0,s.useState)(null),[oe,re]=(0,s.useState)([]),[ie,ne]=(0,s.useState)(null),[se,le]=(0,s.useState)(null),de=e=>{H(e)},[ce,ue]=(0,s.useState)(null);(0,ae.A)((()=>{E.current=de,m({numberOfColumns:t,numberOfRows:o})}));const me=(0,s.useRef)(null);(0,s.useEffect)((()=>{le(null),ne(null),re([]),ue(null)}),[g]);const he=(0,s.useCallback)((()=>{if(!me.current)return 0;const e=me.current.querySelector(".grid-indicator");if(!e)throw new Error("No grid indicators were rendered.");const{width:t}=e.getBoundingClientRect();return Math.round(1e4*t)/1e4}),[F]),pe=(0,s.useMemo)(he,[h,he,me.current]),fe=(0,s.useCallback)(((e,t)=>{if(!F)throw new Error("Grid has no size.");const o=f(N,e,F.width,F.height,{newSize:t});a(o),H(o),J(b(N.map((e=>y(e,F,pe))),F.width,F.height,h,pe))}),[h,pe,N,F,a]),ge=(0,s.useCallback)(((e,r)=>{if(g===Be.CreateArrow){const i=document.elementsFromPoint(r.x,r.y).find((e=>e.classList.contains("grid-indicator"))),n={x:parseInt(i.dataset.x,10),y:parseInt(i.dataset.y,10)};if(!ie)return ne(e),le(n),void re([n]);if(ie!==e&&ie&&null!==se){const r=c.Directional,i=C(ie,e,r,N),a=M(se,n,r),s=q.filter((t=>t.occupiedById===e)),l=((e,t,o,r)=>{if(j(e,t)){if(e.x<t.x){const e=o.sort(((e,t)=>e.x-t.x))[0];return{y:t.y,x:e.index%r+1}}const i=o.sort(((e,t)=>t.x-e.x))[0],n={y:Math.floor(i.index/r)+1,x:i.index%r+1};return{y:t.y,x:n.x}}if(e.y<t.y){const e=o.sort(((e,t)=>e.y-t.y))[0],i={y:Math.floor(e.index/r)+1,x:e.index%r+1};return{x:t.x,y:i.y}}const i=o.sort(((e,t)=>t.y-e.y))[0],n={y:Math.floor(i.index/r)+1,x:i.index%r+1};return{x:t.x,y:n.y}})(oe.slice(-1)[0],n,s,t),d=O(oe.slice(-1)[0],l,r),m=((e,t,o,r,i,n,a,s,l,d)=>({id:crypto.randomUUID(),label:o,arrowType:r,description:"",startElementId:e,endElementId:t,startPosition:i,endPosition:n,startGridPosition:a,endGridPosition:s,breakpoints:l,relativeBreakpoints:d}))(ie,e,i,r,P(a,t,o),P(d,t,o),se,l,oe.slice(1),oe.slice(1).map((e=>P({x:e.x-.5,y:e.y-.5},t,o)))),h=[..._,m];u(h),G(h)}else ne(null),le(null),re([]);re([]),ne(null),le(null)}}),[g,ie,se,N,q,t,oe,o,_,u]),be=(0,s.useCallback)((e=>{g===Be.CreateBox&&(R(e),W(!0))}),[g]),xe=(0,s.useCallback)((()=>{g===Be.CreateBox&&(W(!1),R(null),B(N.length))}),[g,N.length,B]),we=(0,s.useCallback)((e=>{if(g===Be.CreateBox&&be(e),g===Be.CreateArrow&&null!==ie){const o=[...oe,{y:Math.floor(e/t)+1,x:e%t+1}];re(o)}}),[g,oe,ie,be,t]),ye=(0,s.useCallback)((()=>{te(null),$(null),R(null),X("none")}),[]),ve=(0,s.useCallback)((e=>{if(g!==Be.CreateBox||!U)return;if(null==L)throw new Error("Box start position is not defined.");if(!F)throw new Error("Grid has no size.");const r=((e,t,o)=>t%o>=e%o)(e,L,t),i=((e,t,o,r)=>Math.floor(t/o)/r*100>=Math.floor(e/o)/r*100)(e,L,t,o),n=r?e%t:L%t,s=i?Math.floor(e/t):Math.floor(L/t),l=n/t*100,d=s/o*100,c=((i?Math.floor(L/t):Math.floor(e/t))+1)/o*100-d,u=r?L+1:e+1,m=(u%t==0?100:u%t/t*100)-l,p=N.length!==D&&null!=N[D],b={id:crypto.randomUUID(),xPercentagePosition:0,yPercentagePosition:0,widthPercentage:0,heightPercentage:0,topicImage:void 0,label:"",description:""};b.xPercentagePosition=l,b.widthPercentage=m,b.yPercentagePosition=d,b.heightPercentage=c;const y={x:w(l,F.width),y:w(d,F.height)},k={width:x(m,F.width,pe),height:x(c,F.height,pe)},A=N[D],P=v(y,p?A.id:b.id,k,F,h,pe,q);if(P&&!p){const e=[...N,b];a(e),H(e)}if(P&&p)if(r||i){const e=f(N,A,F.width,F.height,{newPosition:y,newSize:k});a(e),H(e)}else fe(A,k)}),[g,U,L,F,t,o,D,N,h,pe,q,a,fe]),ke=(0,s.useCallback)((e=>{const r=null!=Z;if(!r)return;if(null==L)throw new Error("Box start position is not defined.");if(!F)throw new Error("Grid has no size.");const i=k(Z,N);if(!i)throw new Error(`Resized item with id "${Z}" does not exist`);const n=e%t<(ee??e)%t,s=(ee??e)>=e,l=Y.includes("horizontal"),d=Y.includes("vertical"),c=Y.includes("left"),u=Y.includes("top"),m=c?e%t:L%t,p=u?Math.floor(e/t):Math.floor(L/t),g=l?i.xPercentagePosition:m/t*100,b=d?i.yPercentagePosition:p/o*100,y=((e,t,o,r,i,n)=>e?r.heightPercentage:t&&o?r.heightPercentage+(r.yPercentagePosition-i):t&&!o?r.heightPercentage-(i-r.yPercentagePosition):n-i)(d,u,s,i,b,((u?Math.floor((L+i.widthPercentage)/t):Math.floor(e/t))+1)/o*100),A=e+1,P=((e,t,o,r,i,n)=>e?r.widthPercentage:t&&!o?r.widthPercentage-(i-r.xPercentagePosition):t&&o?r.widthPercentage+(r.xPercentagePosition-i):n-i)(l,c,n,i,g,A%t==0?100:A%t/t*100);let S={x:w(g,F.width),y:w(b,F.height)};const C={width:x(P,F.width,pe),height:x(y,F.height,pe)};var j,I,T,z;if(j=P,I=F.width,T=y,z=F.height,(I*j/100<0||z*T/100<0)&&(S={x:w(i.xPercentagePosition,F.width),y:w(i.yPercentagePosition,F.height)}),te(e),v(S,i.id,C,F,h,pe,q)&&r)if(c||u){const e=f(N,i,F.width,F.height,{newPosition:S,newSize:C});a(e),H(e)}else fe(i,C)}),[Z,L,F,t,o,N,h,pe,q,a,Y,fe,ee]),Ae=(0,s.useCallback)((()=>{const e=g===Be.CreateBox&&U,t=null!=Z;e&&xe(),t&&ye(),K||Q(!0)}),[g,U,Z,xe,ye,K]),Pe=(0,s.useMemo)((()=>g===Be.CreateBox),[g]),Se=(0,s.useCallback)((e=>{null!=Z&&ke(e),g===Be.CreateBox&&ve(e),g===Be.CreateArrow&&null!=ie&&ue({y:Math.floor(e/t)+1,x:e%t+1})}),[g,ie,ve,t,ke,Z]),Ce=(0,s.useMemo)((()=>{const e=l("grid-indicator_label");return Array(t*o).fill(null).map(((t,o)=>({id:r.wW.createUUID(),label:e,index:o})))}),[t,o]),je=(0,s.useMemo)((()=>Ce.map((e=>{let{id:o,index:r,label:n}=e;return(0,i.jsx)(bt,{onMouseDown:()=>we(r),onMouseEnter:()=>Se(r),label:n,position:{y:Math.floor(r/t)+1,x:r%t+1}},o)}))),[Ce,t,we,Se]),Ie=(0,s.useDeferredValue)(je),Te=(0,s.useCallback)(((e,t)=>{if(!F)throw new Error("Grid has no size.");if(g===Be.CreateArrow)return;const o=f(N,e,F.width,F.height,{newPosition:t});a(o),H(o);const r=N.map((e=>y(e,F,pe))),i=b(r,F.width,F.height,h,pe);J(i)}),[F,g,N,a,h,pe]),ze=(0,s.useCallback)((e=>{g&&p(null),A(e)}),[g,p,A]),Ee=(0,s.useCallback)((e=>{g&&p(null),S(e)}),[g,p,S]),Me=(0,s.useCallback)((e=>{const t=_.filter((t=>t.id!==e));u(t),G(t)}),[_,u]),Oe=(0,s.useCallback)(((e,r)=>{const i=Math.floor(e.xPercentagePosition/100*t),n=Math.floor(e.yPercentagePosition/100*o);R(i+n*t),$(e.id),X(r),m({numberOfColumns:t,numberOfRows:o})}),[t,o,m]),De=(0,s.useCallback)(((e,r)=>{const i=_.find((e=>e.id===r));if(!i)throw new Error(`Updated arrow with id "${r}" does not exist`);if(i){const r=((e,t,o,r,i)=>e.map((e=>{if(e.id!==t.id)return e;const n=C(e.startElementId,e.endElementId,o,r);return{...e,arrowType:o,label:n,startPosition:P(M(e.startGridPosition,e.endGridPosition,o),i.numberOfColumns,i.numberOfRows),endPosition:P(O(e.startGridPosition,e.endGridPosition,o),i.numberOfColumns,i.numberOfRows)}})))(_,i,e,N,{numberOfColumns:t,numberOfRows:o});u(r),G(r)}}),[_,N,u,t,o]),Fe=(0,s.useMemo)((()=>null==F?null:N.map((e=>(0,i.jsx)(ht,{id:e.id,initialXPosition:w(e.xPercentagePosition,F.width),initialYPosition:w(e.yPercentagePosition,F.height),updatePosition:t=>Te(e,t),initialWidth:Math.abs(w(e.widthPercentage,F.width)),initialHeight:Math.abs(w(e.heightPercentage,F.height)),gapSize:h,cellSize:pe,gridSize:F,occupiedCells:q,isPreview:U,editItem:ze,openDeleteDialogue:z,setSelectedItem:I,selectedItem:T,startResize:t=>Oe(e,t),mouseOutsideGrid:K,showScaleHandles:!0,onPointerDown:t=>ge(e.id,t),activeTool:g,children:(0,i.jsx)(St,{item:e})},e.id)))),[F,N,h,pe,q,U,ze,z,I,T,K,g,Te,Oe,ge]),Ve=(0,s.useCallback)((e=>F?(0,i.jsx)(We,{cellSize:pe,gapSize:h,item:e,editItem:Ee,deleteItem:Me,selectedItemId:T,setSelectedItemId:I,updateArrowType:De,gridWidth:F.width,arrowStartId:ie},e.id):null),[pe,Me,Ee,h,T,De,I,F,ie]),Ne=(0,s.useMemo)((()=>_.map((e=>Ve(e)))),[_,Ve]),He=(0,s.useMemo)((()=>oe.map((e=>(0,i.jsx)(Ze,{position:e,cellSize:pe,gapSize:h},`${e.x}-${e.y}`)))),[oe,pe,h]),_e=(0,s.useCallback)((()=>{window.requestAnimationFrame((()=>{if(!me.current)return;const{width:e,height:t}=me.current.getBoundingClientRect();if(null!=F){const t=F.width/e;1!==t&&H(((e,t)=>e.map((e=>((e,t)=>({...e,heightPercentage:e.heightPercentage*t,widthPercentage:e.widthPercentage*t,xPercentagePosition:e.xPercentagePosition*t,yPercentagePosition:e.yPercentagePosition*t}))(e,t))))(N,t))}V({width:e,height:t})}))}),[N,F]);(0,ae.A)((()=>{const e=e=>{e.target.closest(".draggable, .arrow-item, .context-menu-button, .scaleHandle")||I(null)};window.addEventListener("resize",_e),window.addEventListener("mousedown",e),window.addEventListener("touchstart",e),_e()})),(0,s.useEffect)((()=>{_e()}),[t,o]),(0,s.useEffect)((()=>{F&&J(b(N.map((e=>y(e,F,pe))),F.width,F.height,h,pe))}),[h,pe,N,F]);let Ge=It.grid;return Pe&&(Ge+=` ${It.gridIndicatorsActive}`),g===Be.CreateArrow&&(Ge+=` ${It.isCreatingArrow}`),(0,s.useEffect)((()=>{T||Q(!1)}),[T]),(0,i.jsxs)("div",{ref:me,role:"application",className:Ge,style:{"--gap-size":`${h}px`,gridTemplateColumns:`repeat(${t}, 1fr)`,gridTemplateRows:`repeat(${o}, 1fr)`,cursor:U?"pointer":"auto",inset:0},onMouseUp:()=>{xe(),ye()},onMouseLeave:()=>Ae(),onMouseEnter:()=>{K&&Q(!1)},children:[Ne,Fe,Ie,(0,i.jsx)(Ke,{arrowIndicators:He,cellSize:pe,gapSize:h,breakpoints:oe,currentMousePosition:ce})]})};var zt=o(448),Et={};Et.styleTagTransform=R(),Et.setAttributes=G(),Et.insert=H().bind(null,"head"),Et.domAPI=V(),Et.insertStyleElement=J(),B()(zt.A,Et),zt.A&&zt.A.locals&&zt.A.locals;const Mt=e=>{let{semantics:t,params:o,parent:r,itemId:n,onSave:a}=e;const[l,c]=(0,s.useState)(),[u,m]=(0,s.useState)();(0,s.useEffect)((()=>{const e=(e=>d("topicMapItems",e))(t);c(e),o.topicMapItems&&m({...o,topicMapItems:o.topicMapItems.filter((e=>e.id===n))})}),[n,o,t]);const h=(0,s.useCallback)((e=>{if(!e.topicMapItems)return;const t=e.topicMapItems[0],r=o.topicMapItems?.map((e=>e.id===t.id?t:e))??[],i=[...o.arrowItems?.filter((e=>e.startElementId!==t.id&&e.endElementId!==t.id))||[],...o.arrowItems?.filter((e=>e.startElementId===t.id||e.endElementId===t.id)).map((e=>({...e,label:C(e.startElementId,e.endElementId,e.arrowType,r)})))||[]];a({...e,topicMapItems:r,arrowItems:i})}),[a,o.arrowItems,o.topicMapItems]);return u&&l?(0,i.jsx)($,{fields:[l],params:u,parent:r,onSave:h,formClassName:"topic-map-item-form"}):null};var Ot=o(736),Dt={};Dt.styleTagTransform=R(),Dt.setAttributes=G(),Dt.insert=H().bind(null,"head"),Dt.domAPI=V(),Dt.insertStyleElement=J(),B()(Ot.Ay,Dt);var Bt=Ot.Ay&&Ot.Ay.locals?Ot.Ay.locals:void 0;const Ft=e=>{let{gapSize:t,numberOfColumns:o,numberOfRows:n,params:a,parent:c,semantics:u,setParams:m}=e;const h=o??31,p=n??19,[f,g]=(0,s.useState)(null),[b,x]=(0,s.useState)(a.topicMapItems??[]),[w,y]=(0,s.useState)(a.arrowItems??[]),[v,A]=(0,s.useState)(null),[P,S]=(0,s.useState)(null),[j,I]=(0,s.useState)(null),[T,z]=(0,s.useState)(b.length),[E,M]=(0,s.useState)(null),[O,D]=(0,s.useState)(!1),B=(0,s.useRef)((e=>B.current(e))),F=e=>{g(e)},V=(0,s.useCallback)((e=>{m({grid:e})}),[m]),N=(0,s.useCallback)((e=>{m({arrowItems:e}),y(e)}),[m]),H=(0,s.useCallback)((e=>{if(w.length>0){const t=((e,t)=>e.map((e=>{const o=k(e.startElementId,t),r=k(e.endElementId,t);if(!o||!r)return e;const i=C(o.id,r.id,e.arrowType,t);return{...e,label:i}})))(w,e);N(t),y(t)}m({topicMapItems:e}),x(e),B.current(e)}),[w,m,N]),_=(0,s.useCallback)((e=>{S(e),D(!0)}),[]),G=(0,s.useCallback)((e=>{const t=w.filter((t=>t.id!==e));N(t),y(t)}),[w,N]),q=(0,s.useCallback)((()=>{const e=b.filter((e=>e.id!==P));var t;(t=P??"",w.filter((e=>[e.startElementId,e.endElementId].includes(t)))).forEach((e=>G(e.id))),H(e),x(e),B.current(e),D(!1),I(null),z(e.length)}),[w,G,P,b,H]),J=(0,s.useCallback)((()=>{D(!1),I(null)}),[]),L=l("map-editor-view_item-dialog-title"),R=(0,s.useMemo)((()=>{const e=(e=>d("gridBackgroundImage",e))(u);if(!e)throw new Error("Background image field not found. Was it removed from semantics, or did its name change?");return e}),[u]),U=a.gridBackgroundImage?.path?`url(${(0,r.VG)(a.gridBackgroundImage?.path)})`:void 0;return(0,i.jsxs)("div",{className:Bt.mapEditorView,children:[(0,i.jsx)(Fe,{setActiveTool:F,activeTool:f,isArrowButtonDisabled:b.length<2,setParams:m,params:a,parent:c,backgroundImageField:R}),(0,i.jsxs)("div",{className:`${Bt.gridBorder} ${U?Bt.backgroundImage:""}`,style:{backgroundImage:U},children:[(0,i.jsx)(Tt,{numberOfColumns:h,numberOfRows:p,initialItems:b,updateItems:H,initialArrowItems:w,updateArrowItems:N,updateGridDimensions:V,gapSize:t??4,setActiveTool:F,activeTool:f,setEditedItem:A,setEditedArrow:M,setSelectedItem:I,selectedItem:j,openDeleteDialogue:_,updateGrid:B,currentItemsLength:T,setCurrentItemsLength:z}),(0,i.jsx)(ne,{isOpen:O,title:l("draggable_delete-confirmation"),onOpenChange:e=>{e||(S(null),J())},size:"medium",children:(0,i.jsxs)("div",{className:Bt.deleteConfirmationButtons,children:[(0,i.jsx)("button",{type:"button",className:Bt.deleteConfirmationPositive,onClick:q,children:l("draggable_delete-positive")}),(0,i.jsx)("button",{type:"button",className:Bt.deleteConfirmationNegative,onClick:J,children:l("draggable_delete-negative")})]})}),(0,i.jsxs)(ne,{isOpen:Boolean(u&&(v||E)),title:L,size:"large",onOpenChange:e=>{e||(A(null),M(null))},children:[v?(0,i.jsx)(Mt,{itemId:v,semantics:u,params:a,parent:c,onSave:e=>{H(e.topicMapItems??[]),N(e.arrowItems??[]),A(null)}}):null,E?(0,i.jsx)(K,{itemId:E,semantics:u,params:a,parent:c,onSave:e=>{N(e.arrowItems??[]),M(null)}}):null]})]})]})},Vt=e=>{let{setValue:t,semantics:o,initialParams:r,parent:n}=e;const l=(0,s.useRef)(null),[d,c]=(0,s.useState)(0);(0,s.useLayoutEffect)((()=>{const e=l.current?.getBoundingClientRect().width??0;c(e)}),[]),(0,a.A)(l,(e=>{let{contentRect:t}=e;c(t.width)}));const[u,m]=(0,s.useState)(r?(h=r,{topicMapItems:[],arrowItems:[],...h}):{topicMapItems:[],arrowItems:[]});var h;const p=(0,s.useCallback)((e=>{const o={...u,...e};m(o),t(o)}),[u,t]);return(0,i.jsx)(xt.Provider,{value:d,children:(0,i.jsx)("div",{className:`h5p-editor-topic-map theme-${u.colorTheme??we}`,ref:l,children:(0,i.jsx)(Ft,{setParams:p,semantics:o,params:u,parent:n})})})};class Nt extends r.i7{appendTo(e){const t=e.get(0);if(!t)return void console.error("Found no containing element to attach `h5p-editor-topic-map` to.");const{setValue:o,field:r,params:a,parent:s}=this;(0,n.H)(this.wrapper).render((0,i.jsx)(Vt,{setValue:e=>o(r,e),semantics:r,initialParams:a,parent:s})),t.appendChild(this.wrapper),t.classList.add("h5p-editor-topic-map")}validate(){return!0}remove(){}}var Ht=o(100),_t={};_t.styleTagTransform=R(),_t.setAttributes=G(),_t.insert=H().bind(null,"head"),_t.domAPI=V(),_t.insertStyleElement=J(),B()(Ht.A,_t),Ht.A&&Ht.A.locals&&Ht.A.locals,(0,r.Cu)("TopicMap","topicMap",Nt)},578:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".wTMvNkZPzTX1PlIXtF6b{display:flex;flex-direction:column}.wTMvNkZPzTX1PlIXtF6b>*{margin-top:2rem}",""]),t.A=a},52:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".yInZRDPKcoKoKFVWia5e{cursor:pointer;position:absolute;height:100%;width:100%;pointer-events:none}.yInZRDPKcoKoKFVWia5e:hover .D8IRDGod84HvHqbEbYdj{fill:var(--theme-color-5)}.yInZRDPKcoKoKFVWia5e:hover .rZfYAu0AJLJhUG_0SF05,.yInZRDPKcoKoKFVWia5e:hover .ivuJFWJt7utzSYsLrdx_{stroke:var(--theme-color-5)}.kbG4Mio_4ZPs98OBqmd7{position:absolute;height:100%;width:100%;z-index:1}.rZfYAu0AJLJhUG_0SF05{z-index:1}.nRWTJ9qxhEQSRaWk5liE{pointer-events:all}.ivuJFWJt7utzSYsLrdx_{pointer-events:all}.BIFymItinwlxwW7jJS3P,.FSdgRj4oLzSrOPs8J2bu{background-color:#fff;border-radius:.25em;border:2px solid currentColor;box-sizing:border-box;color:#0d2769;cursor:pointer;display:inline-block;font-weight:600;margin:10px 0 0 0;padding:.5rem 1.25rem;width:auto}.BIFymItinwlxwW7jJS3P{background-color:#0d2769;color:#fff}.ZgGjjJB9nKgRHylQGuXC{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin:1rem 0 0;pointer-events:all;z-index:10}",""]),t.Ay=a},698:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".kLvg_f9gwapOgybNw10O{position:absolute;height:100%;width:100%;z-index:10;pointer-events:none}",""]),t.A=a},470:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".arrow-item-form>div>.field>.h5peditor-label{display:none}.arrow-item-form>div>.field>.h5peditor-widget-wrapper>.h5p-ul{list-style-type:none;padding:0}.arrow-item-form>div>.field>.h5peditor-widget-wrapper>.h5p-ul+.h5peditor-button{display:none}",""]),t.A=a},772:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,'.EvqCgHEVVSrP2CHTbAPk{display:none;position:absolute;top:-0.5em;transform:translateY(-100%);white-space:nowrap;user-select:none;-webkit-user-select:none;-moz-user-select:none;background-color:#c4e3f7;border:1px solid #09f;border-radius:2px;filter:drop-shadow(0 0 0.25em rgba(44, 44, 44, 0.5));pointer-events:visible;z-index:2}.EvqCgHEVVSrP2CHTbAPk::before{position:absolute;display:block;content:"";border-style:solid;border-color:#09f rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);bottom:-0.6em}.EvqCgHEVVSrP2CHTbAPk::after{position:absolute;display:block;content:"";border-style:solid;border-color:#c4e3f7 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);bottom:calc(-0.6em + 2px);z-index:1}.EvqCgHEVVSrP2CHTbAPk.QTYUo1eaY2hZhRHp7r0c{display:block !important}.EvqCgHEVVSrP2CHTbAPk.SgbIEJOO67E_Bgm_gmGB::before{border-width:.6em .6em 0 0;left:-1px}.EvqCgHEVVSrP2CHTbAPk.SgbIEJOO67E_Bgm_gmGB::after{border-width:.6em .6em 0 0;left:0}.EvqCgHEVVSrP2CHTbAPk.mco5qhTTdOix9f_jQ54z{right:0}.EvqCgHEVVSrP2CHTbAPk.mco5qhTTdOix9f_jQ54z::before{border-width:.6em 0 0 .6em;right:-1px}.EvqCgHEVVSrP2CHTbAPk.mco5qhTTdOix9f_jQ54z::after{border-width:.6em 0 0 .6em;right:0}',""]),t.Ay=a},520:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".kFn_Ugdq9cG71_jilooA{vertical-align:top;position:relative;font-size:1.2em;width:2em;height:1.5em;padding:.05em .2em;margin:.15em;cursor:pointer;border:1px solid #c4e3f7;border-radius:.25em;color:#09f;background:#c4e3f7;z-index:1;pointer-events:all}.kFn_Ugdq9cG71_jilooA:hover,.kFn_Ugdq9cG71_jilooA:focus{border-color:#0061a2}.kFn_Ugdq9cG71_jilooA:hover .zeFOBsOpq37aZtUjQn70,.kFn_Ugdq9cG71_jilooA:focus .zeFOBsOpq37aZtUjQn70{display:block;z-index:2}.kFn_Ugdq9cG71_jilooA:focus{z-index:2}.kFn_Ugdq9cG71_jilooA .IXNn9MH4AZ2lsZy4wYOZ{fill:#0061a2}.zeFOBsOpq37aZtUjQn70{display:none;background:#000;color:#fff;white-space:nowrap;position:absolute;left:0;bottom:-2px;transform:translateY(-29px);z-index:1;padding:.2em .5em;font-size:.8em;border-radius:4px}",""]),t.Ay=a},934:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".uCmsR8UIYVPSPpvbUkjb{background-color:rgba(0,0,0,.3);inset:0;position:fixed;z-index:2}@media(prefers-reduced-motion: no-preference){.uCmsR8UIYVPSPpvbUkjb{animation:tU6GFWuqliS1Ao53COgN 150ms cubic-bezier(0.16, 1, 0.3, 1)}}.nPZ_WBmn3hGEOcscqwv8{background:none;border:none;cursor:pointer;padding:0;position:fixed;right:.625rem;top:.625rem}.U1hMlTDQNBaG04zIpV3M{background-color:#fff;border-radius:.375rem;box-shadow:rgba(14,18,22,.35) 0 10px 38px -10px,rgba(14,18,22,.2) 0 10px 20px -15px;left:50%;max-height:85vh;overflow:auto;padding:25px;position:fixed;top:50%;transform:translate(-50%, -50%);width:90vw;z-index:3}@media(prefers-reduced-motion: no-preference){.U1hMlTDQNBaG04zIpV3M{animation:DH1zBqOLjWsHbnohwkzk 150ms cubic-bezier(0.16, 1, 0.3, 1)}}.x_Qq3XsAVrnjCbvOxi9l{color:#000;font-size:1.0625rem;font-weight:500;margin:0}.zx4Wt0lINubiBXfoMZb9{position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0}@keyframes tU6GFWuqliS1Ao53COgN{from{opacity:0}to{opacity:1}}@keyframes DH1zBqOLjWsHbnohwkzk{from{opacity:0;transform:translate(-50%, -48%) scale(0.96)}to{opacity:1;transform:translate(-50%, -50%) scale(1)}}",""]),t.Ay=a},588:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".QMt20M6KA1aJQ2QDjm9w{background-position:50% 50%;background-size:cover;cursor:move;margin:-1px;position:absolute;transition:transform .2s ease-out;will-change:transform;z-index:1}.QMt20M6KA1aJQ2QDjm9w:not(:focus){outline:none}.QMt20M6KA1aJQ2QDjm9w.oJIPLBc8rGCPWUX6hROt{transition:none}.QMt20M6KA1aJQ2QDjm9w[aria-grabbed=true]{transition:none}.K3DDv1Sms13W8fVeZUsX{height:100%}",""]),t.Ay=a},110:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,'.fFABg4sqXu9qIwj_cYR2{display:grid;gap:var(--gap-size);position:relative;touch-action:none}.jqdHD3BJayFwXyXVxjE9 [data-grid-indicator]{cursor:pointer;opacity:.8}.jqdHD3BJayFwXyXVxjE9 [data-grid-indicator]:focus,.jqdHD3BJayFwXyXVxjE9 [data-grid-indicator]:hover{background-color:var(--theme-color-3);border-color:var(--theme-color-4);transition-duration:.1s}.Ju18O1MouG3kWVqiAlGz [data-draggable]{cursor:pointer}.Ju18O1MouG3kWVqiAlGz [data-draggable]:before{background-color:var(--theme-color-3);content:"";inset:0;opacity:0;position:absolute}.Ju18O1MouG3kWVqiAlGz [data-draggable]:hover::before{opacity:.3}.SWGJ02Eds3rSfuBQZn4r{height:0;left:0;pointer-events:none;position:absolute;top:0;width:0}',""]),t.Ay=a},220:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,'.pHc2yzMY43MSmNo0ccFW{background-color:rgba(0,0,0,0);border-radius:20%;border:.125rem dashed var(--theme-color-3);display:block;height:0;opacity:.6;padding:calc(100% - .3em) 0 0 0;position:relative;transition-duration:.4s;transition-property:background-color,border-color;transition-timing-function:ease-in-out;width:100%}.pHc2yzMY43MSmNo0ccFW::before{content:"";left:calc(-1*var(--gap-size));height:calc(100% + 2*var(--gap-size));position:absolute;top:calc(-1*var(--gap-size));width:calc(100% + 2*var(--gap-size))}',""]),t.A=a},736:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,'.Ad3VtQkCL3xoz0ZKfbcJ{background-color:var(--theme-color-1);font-size:1rem;overflow:hidden}.UVJssF4BsTjuCJ9O9VJ6{border-bottom:1px solid #d1d1d1;border-left:1px solid #d1d1d1;border-right:1px solid #d1d1d1;padding:1em;position:relative}.UVJssF4BsTjuCJ9O9VJ6.IOH6lJ9VKrkrswdo8JfN{background-size:cover;height:100%;width:100%}.UVJssF4BsTjuCJ9O9VJ6.IOH6lJ9VKrkrswdo8JfN::before{content:" ";background-color:var(--theme-color-1);display:block;height:100%;left:0;opacity:.8;position:absolute;top:0;width:100%}.vz23NrfPL1NDeziEV876,.q_MwhMuEvSiCHs1pcCeR{background-color:#fff;border-radius:.25em;border:2px solid currentColor;box-sizing:border-box;color:#0d2769;cursor:pointer;display:inline-block;font-weight:600;margin:10px 0 0 0;padding:.5rem 1.25rem;width:auto}.vz23NrfPL1NDeziEV876{background-color:#0d2769;color:#fff}.JTBSeZDSagSOxSIhO2oI{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin:1rem 0 0}',""]),t.Ay=a},144:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".Vf16JbcHDybgrQCNwvCk{position:absolute;pointer-events:all}.T1gxZBfHL2OWkD8f0Z0A,.DRZkYxMVfzsjiviFBn5O,._gCqDiWFmRnmFVU42oHF{left:-0.5rem}.oTqX4S7ei6dNLuuuCc1T,.FGB2KPuDU7ZDqTyBkTil,.UbrjETyU3COV61CqZ7sx{right:-0.5rem}.Hn64egyn5cj1Xz__J2aK,.FGB2KPuDU7ZDqTyBkTil,.DRZkYxMVfzsjiviFBn5O{top:-0.5rem}.dGTgFyE3CfnXxTVFRrI6,.UbrjETyU3COV61CqZ7sx,._gCqDiWFmRnmFVU42oHF{bottom:-0.5rem}.T1gxZBfHL2OWkD8f0Z0A,.oTqX4S7ei6dNLuuuCc1T{cursor:col-resize;height:100%;top:0;width:1rem}.Hn64egyn5cj1Xz__J2aK,.dGTgFyE3CfnXxTVFRrI6{cursor:row-resize;left:0;height:1rem;width:100%}.FGB2KPuDU7ZDqTyBkTil,.UbrjETyU3COV61CqZ7sx,._gCqDiWFmRnmFVU42oHF,.DRZkYxMVfzsjiviFBn5O{height:1rem;width:1rem;z-index:1}.FGB2KPuDU7ZDqTyBkTil,._gCqDiWFmRnmFVU42oHF{cursor:nesw-resize}.UbrjETyU3COV61CqZ7sx,.DRZkYxMVfzsjiviFBn5O{cursor:nwse-resize}",""]),t.Ay=a},692:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,'.reFWOZSH3eVuA7f9ovTc{background-color:#2579c6;background-image:linear-gradient(#3080c9 50%, transparent 50%, transparent);border-radius:.25em;border:1px solid #3080c9;line-height:42px;min-height:42px;display:inline-block;width:auto;margin:10px 0 0 0;padding:0 20px;box-sizing:border-box;font-size:16px;font-family:"Open Sans",sans-serif;color:#fff;cursor:pointer;font-weight:600;-webkit-font-smoothing:antialiased;transition:.1s}.reFWOZSH3eVuA7f9ovTc:hover{background-color:#0079c6;background-image:linear-gradient(#1080c9 50%, transparent 50%, transparent);text-decoration:none}.reFWOZSH3eVuA7f9ovTc:focus{box-shadow:0 0 16px 0 rgba(133,188,255,.84)}',""]),t.A=a},780:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".oPzzarpbYhBYeQJddpKr{display:flex;flex-wrap:wrap;margin:-0.5rem}.oPzzarpbYhBYeQJddpKr>*{margin:.5rem}.Pw5XQRwUS0Oq3X9tugNV{background-color:#f2f2f2;border:1px solid rgba(0,0,0,0);border-radius:.25rem;box-shadow:0 1px 4px rgba(0,0,0,.3);cursor:pointer;font-family:inherit;font-size:1.25rem;padding:1rem;transition:background-color .15s ease-in-out}.Pw5XQRwUS0Oq3X9tugNV:hover,.Pw5XQRwUS0Oq3X9tugNV:focus{background-color:#dedede}.AL9PyccxT_zu_Jq90eLJ{background-color:#dcdcdc;border-color:#bbb}.S_ty8QWueXDGlZCN1nOg{display:flex;margin-top:1rem}.OUuPi6ksSPs_jHiWNYVq{border-radius:50%;height:1rem;width:1rem}.OUuPi6ksSPs_jHiWNYVq+.OUuPi6ksSPs_jHiWNYVq{margin-left:-0.25rem}",""]),t.Ay=a},412:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".HNb3udP0geo5K1xeHdMu{padding:.5em;background:#f5f5f5;border:1px solid #d1d1d1}",""]),t.A=a},980:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".JxC1FFCHfZkhqV3TOW9o{vertical-align:top;position:relative;font-size:1.2em;width:2.5em;height:1.75em;margin-right:.4em;padding:.2em .5em;cursor:pointer;border:1px solid #ccc;border-radius:.25em;color:#333;background:linear-gradient(to bottom, #fff 0, #f2f2f2 100%)}.JxC1FFCHfZkhqV3TOW9o:hover .E7IYrlyy9Te18H1_sQH9{z-index:2}.JxC1FFCHfZkhqV3TOW9o:hover,.JxC1FFCHfZkhqV3TOW9o:focus{border-color:#999;transition:.1s;background:#f2f2f2}.JxC1FFCHfZkhqV3TOW9o:hover .E7IYrlyy9Te18H1_sQH9,.JxC1FFCHfZkhqV3TOW9o:focus .E7IYrlyy9Te18H1_sQH9{display:block}.JxC1FFCHfZkhqV3TOW9o:active{border-color:#999;transition:.1s;background:#ddd}.JxC1FFCHfZkhqV3TOW9o .kS6cjau2aR74OXNbtkp2{fill:#333}.JxC1FFCHfZkhqV3TOW9o.kOvUQZVjr6nRAYX9Zl80{border:1px solid #0079d2;color:#fff;background:linear-gradient(to bottom, #0485e3 0, #0079d2 100%)}.JxC1FFCHfZkhqV3TOW9o.kOvUQZVjr6nRAYX9Zl80:hover,.JxC1FFCHfZkhqV3TOW9o.kOvUQZVjr6nRAYX9Zl80:focus{border-color:#0079d2;transition:none;background:#0079d2}.JxC1FFCHfZkhqV3TOW9o.kOvUQZVjr6nRAYX9Zl80 .kS6cjau2aR74OXNbtkp2{fill:#fff}.JxC1FFCHfZkhqV3TOW9o:disabled{background-color:#f5f5f5;border-color:#eee;cursor:not-allowed}.JxC1FFCHfZkhqV3TOW9o:disabled svg{fill:#6c6d6d}.E7IYrlyy9Te18H1_sQH9{display:none;background:#000;color:#fff;white-space:nowrap;position:absolute;left:0;bottom:-2px;transform:translateY(100%);z-index:1;padding:.2em .5em;font-size:.8em;border-radius:4px}",""]),t.Ay=a},942:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".wFBpuy6EmI4m2r3_3VE6{background-color:var(--theme-color-2);border-radius:.5rem;box-shadow:0 0 0 2px var(--theme-color-4),0 1px 4px rgba(0,0,0,.3);color:#fff;display:flex;flex-direction:column;height:100%;outline-offset:4px;overflow:hidden;width:100%}.wFBpuy6EmI4m2r3_3VE6:hover{background-color:var(--theme-color-3);box-shadow:0 0 0 2px var(--theme-color-5),0 1px 4px rgba(0,0,0,.3)}.wFBpuy6EmI4m2r3_3VE6.YxStIPpMLRzRykFlYpVc{font-size:1.125rem}.wFBpuy6EmI4m2r3_3VE6.YxStIPpMLRzRykFlYpVc .PlRJozMlGKkw2G465KzA{padding:1em 1.25em}.wFBpuy6EmI4m2r3_3VE6.fH8uVyyOXs7wDcZP_6QN{font-size:1rem}.wFBpuy6EmI4m2r3_3VE6.fH8uVyyOXs7wDcZP_6QN .PlRJozMlGKkw2G465KzA{padding:.75em 1em}.wFBpuy6EmI4m2r3_3VE6.F3zP0cmXO4mMpw8h3mJY{font-size:.813rem}.wFBpuy6EmI4m2r3_3VE6.F3zP0cmXO4mMpw8h3mJY .PlRJozMlGKkw2G465KzA{padding:.75em}._riEmFjKJJHZpkuWDX0w{width:100%;height:25%;object-fit:cover;flex-grow:2}.PlRJozMlGKkw2G465KzA{background-color:inherit;color:inherit;display:flex;flex-direction:column;justify-content:center;padding:1em 1.5em;width:100%}.PlRJozMlGKkw2G465KzA.OXb2j9UMXYMil_aTSKWr{flex-grow:1}.rED26Y1N5YhS8Ci_FnId{font-size:1.125em;font-weight:500;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;text-align:center}.B6dBYxsyT03fwbs82sJQ{font-size:.625em;margin-top:.5em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),t.Ay=a},448:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,".topic-map-item-form>div>.field>.h5peditor-label{display:none}.topic-map-item-form>div>.field>.h5peditor-widget-wrapper>.h5p-ul{list-style-type:none;padding:0}.topic-map-item-form>div>.field>.h5peditor-widget-wrapper>.h5p-ul+.h5peditor-button{display:none}",""]),t.A=a},100:function(e,t,o){var r=o(601),i=o.n(r),n=o(314),a=o.n(n)()(i());a.push([e.id,'.h5p-editor-topic-map{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-size:1rem}.h5p-editor-topic-map *,.h5p-editor-topic-map *::before,.h5p-editor-topic-map *::after{box-sizing:border-box}.theme-1{--theme-color-1: #2f4050;--theme-color-2: #40586f;--theme-color-3: #567B95;--theme-color-4: #BECCE0;--theme-color-5: #DAE2EC}.theme-2{--theme-color-1: #2f5050;--theme-color-2: #3d6060;--theme-color-3: #4E7E7E;--theme-color-4: #AFD9D9;--theme-color-5: #CBE7E7}.theme-3{--theme-color-1: #7a1719;--theme-color-2: #981b1e;--theme-color-3: #D7282A;--theme-color-4: #F9A9AC;--theme-color-5: #FBDADA}.theme-4{--theme-color-1: #131516;--theme-color-2: #373d3f;--theme-color-3: #6B777B;--theme-color-4: #C0C4C8;--theme-color-5: #DFE2E2}.h5p-confirmation-dialog-background,.cke_combopanel{pointer-events:auto}.h5peditor-form.h5peditor-form-manager>.tree,.h5peditor-form.h5peditor-form-manager>.common,.h5peditor-form.h5peditor-form-manager>.field{max-width:none}.h5p-metadata-button-wrapper{box-sizing:content-box}.h5p-metadata-button-wrapper *{box-sizing:inherit}',""]),t.A=a}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={id:e,loaded:!1,exports:{}};return r[e](o,o.exports,n),o.loaded=!0,o.exports}n.m=r,e=[],n.O=function(t,o,r,i){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],i=e[c][2];for(var s=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,r,i]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},o=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},n.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);n.r(i);var a={};t=t||[null,o({}),o([]),o(o)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=o(s))Object.getOwnPropertyNames(s).forEach((function(t){a[t]=function(){return e[t]}}));return a.default=function(){return e},n.d(i,a),i},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={179:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,a=o[0],s=o[1],l=o[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)var c=l(n)}for(t&&t(o);d<a.length;d++)i=a[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self.webpackChunkh5p_editor_topic_map=self.webpackChunkh5p_editor_topic_map||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}(),n.nc=void 0;var a=n.O(void 0,[121],(function(){return n(745)}));a=n.O(a)}();