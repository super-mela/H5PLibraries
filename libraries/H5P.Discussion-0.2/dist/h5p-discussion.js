!function(){"use strict";var e,t={20:function(e,t,n){var r=n(294),a=n(935),s=n(697),i=n.n(s),o=n(638);const c=r.createContext();function l({children:e,value:t}){return r.createElement(c.Provider,{value:t},e)}function u(){const e=(0,r.useContext)(c);if(void 0===e)throw new Error("useDiscussion must be used within a DiscussionContextProvider");return e}var d=n(184),m=n.n(d),p=n(894),g=function(){const e=u(),[t,n]=(0,r.useState)(""),{registerReset:a,collectExportValues:s,translate:i,params:{summaryHeader:o,summaryInstruction:c}}=e;return s("summary",(()=>t)),a((()=>n(""))),r.createElement("div",{className:m()("h5p-discussion-summary"),"aria-labelledby":"summary-header"},r.createElement("label",{id:"summary-header",htmlFor:"summary"},r.createElement("div",null,o||i("summary"))),c&&r.createElement("div",null,(0,p.ZP)(c)),r.createElement("textarea",{id:"summary",placeholder:i("typeYourReasonsForSuchAnswers"),value:t,onChange:e=>n(e.target.value),"aria-label":i("typeYourReasonsForSuchAnswers")}))},h=n(286),b=function(){return r.createElement("span",{className:"h5p-discussion-header-icon"})};function f(e){const t=u(),{onClick:n}=e;return r.createElement("button",{"aria-label":t.translate("addArgument"),className:"h5p-discussion-add-button",onClick:n,type:"button"},r.createElement("div",{className:"h5p-discussion-add-button-content"},r.createElement("span",{className:"h5p-discussion-add-button-icon fa fa-plus","aria-hidden":!0}),r.createElement("span",{className:"h5p-discussion-add-button-text"},t.translate("addArgument"))))}f.propTypes={displayFull:i().bool,onClick:i().func};var y=f;function v(e){const{additionalClassName:t,categoryId:n,addArgument:a,title:s,includeHeader:i,onAddArgument:o,children:c}=e;return t.unshift("h5p-discussion-category"),r.createElement("div",{className:t.join(" ")},i&&r.createElement("div",{className:"h5p-discussion-category-header"},r.createElement(b,null),s),r.createElement("div",{className:"h5p-discussion-category-content",id:n},c,a&&r.createElement(y,{onClick:o})))}v.propTypes={additionalClassName:i().array,categoryId:i().string.isRequired,title:i().string,addArgument:i().bool,includeHeader:i().bool,useNoArgumentsPlaceholder:i().bool,onAddArgument:i().func},v.defaultProps={columnClassName:[],additionalClassName:[],title:"",addArgument:!0,includeHeader:!0,useNoArgumentsPlaceholder:!0};var E=v,A=n(518);function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function x(e){const{children:t,draggableId:n,dragIndex:a,ariaLabel:s}=e;return r.createElement(h._l,{draggableId:n,index:a},((e,n)=>r.createElement("div",{className:"h5p-discussion-draggable-container"},r.createElement(C,{provided:e,snapshot:n,ariaLabel:s},t))))}function C({children:e,provided:t,snapshot:n}){return r.createElement("div",N({className:m()("h5p-discussion-draggable-element",{"h5p-discussion-active-draggable":n.isDragging}),ref:t.innerRef},t.dragHandleProps,t.draggableProps),e)}x.propTypes={draggableId:i().string,dragIndex:i().number,ariaLabel:i().string},C.propTypes={provided:i().object,snapshot:i().object,ariaLabel:i().string};var w=n(492);function D(e){return this.id=null,this.added=!1,this.argumentText=null,this.editMode=!1,this.prefix="argument",Object.assign(this,e)}function L(e){return this.id=null,this.title=null,this.connectedArguments=[],this.isArgumentDefaultList=!1,this.theme="h5p-discussion-category-default",this.useNoArgumentsPlaceholder=!1,this.prefix="category",this.actionTargetContainer=!1,Object.assign(this,e)}function T(e){return this.id=null,this.title=null,this.activeCategory=null,this.onSelect=null,this.type=null,this.label=null,Object.assign(this,e)}function O(e){return e.prefix+"-"+e.id}function I(e,t,n){let r;return function(){const a=this,s=arguments,i=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(a,s)}),t),i&&e.apply(a,s)}}function S(e){return e?(0,w.decode)(e):e}function k(e){return e?(0,w.escape)(e):e}function P(e){const t=document.createElement("div");return t.innerHTML=e,t.innerText}const R="h5p-medium-tablet-size",j="h5p-large-tablet-size",M="h5p-large-size";function H(e){return e%2==0}function z({argument:e,inEditMode:t,onChange:n,startEditing:a,stopEditing:s,idBase:i}){const{translate:o}=u(),c=(0,r.useRef)();(0,r.useEffect)((()=>{!0===t&&(c.current.value=e,c.current.focus())}),[t]);const l="es_"+i,d="label_"+l,p="input_"+l;return r.createElement("div",{role:"textbox",tabIndex:0,onClick:a,className:"h5p-discussion-editable-container",onKeyDown:e=>{"Enter"===e.key&&(t?s():a())},"aria-labelledby":d},r.createElement("div",null,r.createElement("label",{title:e,htmlFor:p,id:d,className:m()("h5p-discussion-editable",{hidden:!1===t})},r.createElement("span",{className:"visible-hidden"},o("argument")),r.createElement("input",{className:"h5p-discussion-editable",ref:c,onBlur:s,onChange:I((()=>n(c.current.value)),200),"aria-label":`${o("editArgument")} ${e}`,id:p})),r.createElement("p",{className:m()("h5p-discussion-noneditable",{hidden:!0===t})},e)))}z.propTypes={argument:i().string,inEditMode:i().bool,onChange:i().func,startEditing:i().func,stopEditing:i().func,idBase:i().oneOfType([i().string,i().number])},z.defaultProps={inEditMode:!1};var B=z;function F(e){return r.createElement("p",{className:"h5p-discussion-element"},e.argument)}F.propTypes={argument:i().string};var V=F,J=n(106);function q(e){const t=u(),{translate:n}=t,{menuId:a,children:s,show:i,handleClose:c,actions:l,classNames:d=[],parentElement:p}=e,g=e=>{const t=e.target;!p.contains(t)&&c&&c()};function h(e){c(),e()}(0,r.useEffect)((()=>(window.addEventListener("pointerdown",g),()=>window.removeEventListener("pointerdown",g))),[p]),d.push("h5p-discussion-actionmenu");const b=(0,o.iz)(p);return r.createElement(J.Popover,{containerClassName:d.join(" "),contentLocation:{top:b.borderBox.height,left:-b.border.left},isOpen:i,positions:["bottom"],padding:0,reposition:!1,parentElement:p,containerStyle:{position:"absolute",top:`${b.borderBox.height}px`},content:()=>r.createElement("div",{id:a,className:"h5p-discussion-popover-actionmenu",role:"dialog","aria-labelledby":"actionMenuTitle","aria-describedby":"actionMenuDescription"},r.createElement("div",{className:"visible-hidden"},r.createElement("p",{id:"actionMenuTitle"},n("actionMenuTitle")),r.createElement("p",{id:"actionMenuDescription"},n("actionMenuDescription"))),r.createElement("ul",null,l.map(((e,t)=>{let a;var s;return"delete"===e.type?(s=e,a=r.createElement("button",{className:"h5p-discussion-popover-actionmenu-delete",type:"button",onClick:e=>{e.preventDefault(),s.onSelect()}},r.createElement("span",{className:"h5p-ri h5p-discussion-popover-actionmenu-delete-icon","aria-hidden":!0}),r.createElement("span",{className:"h5p-discussion-popover-actionmenu-labeltext"},s.title))):a="edit"===e.type?function(e){return r.createElement("button",{className:"h5p-discussion-popover-actionmenu-edit",type:"button",onClick:t=>{t.preventDefault(),h(e.onSelect)}},r.createElement("span",{className:"h5p-ri hri-pencil","aria-hidden":!0}),r.createElement("span",{className:"h5p-discussion-popover-actionmenu-labeltext"},e.title))}(e):function(e,t){let a;return a=e.label?r.createElement("span",{id:"action-"+t,className:"h5p-discussion-popover-actionmenu-labeltext"},e.label):r.createElement("span",{id:"action-"+t,className:"h5p-discussion-popover-actionmenu-labeltext"},n("moveTo"),' "',r.createElement("span",null,e.title),'"'),r.createElement("label",{tabIndex:0,onKeyUp:t=>function(e,t){"Enter"===e.key&&h(t)}(t,e.onSelect)},r.createElement("input",{tabIndex:-1,id:"input-"+e.id,value:e.id,type:"checkbox",checked:e.activeCategory,onChange:()=>{!0!==e.activeCategory&&h(e.onSelect)},"aria-labelledby":"action-"+t}),r.createElement("span",{className:m()("h5p-ri",{"hri-checked":e.activeCategory,"hri-unchecked":!e.activeCategory})}),a)}(e,t),r.createElement("li",{key:"action-"+t},a)}))),r.createElement("button",{onClick:c,className:"visible-hidden",type:"button"},n("close")))},s)}q.propTypes={canDelete:i().bool,onDelete:i().func,actions:i().array,translate:i().func,show:i().bool,handleClose:i().func,classNames:i().array,parentElement:i().object,children:i().oneOfType([i().arrayOf(i().element),i().element])};var _=q,U=function(){const e=u();return r.createElement("div",{className:"h5p-discussion-drag-element"},r.createElement("span",{className:"h5p-ri hri-move"}),r.createElement("span",{className:"visible-hidden"},e.translations.drag))};function Y({argument:e,onArgumentChange:t,startEditing:n,stopEditing:a,enableEditing:s=!1,isDragging:i=!1,isDragEnabled:o=!0,actions:c}){const l=(0,r.useRef)(null),[u,d]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),g=`action-menu-${e.id}_${H5P.createUUID()}`;let h;(0,r.useEffect)((()=>{d(!0)}),[l]),h=s?r.createElement(B,{argument:e.argumentText,inEditMode:e.editMode,onChange:t,startEditing:n,stopEditing:a,idBase:e.id}):r.createElement(V,{argument:e.argumentText});let b=r.createElement($,{activeDraggable:o&&i,isDragEnabled:o,statementDisplay:h,showPopover:m,menuId:g,toggle:function(){p((e=>!e))}});return Array.isArray(c)&&c.length>0&&u&&(b=r.createElement(_,{menuId:g,actions:c,show:m,handleClose:function(){p(!1)},parentElement:l.current},b)),r.createElement("div",{id:O(e),ref:l},b)}function $({activeDraggable:e,isDragEnabled:t,statementDisplay:n,showPopover:a,menuId:s,toggle:i}){return r.createElement("div",{className:"h5p-discussion-argument-container"},r.createElement("div",{className:m()("h5p-discussion-argument",{"h5p-discussion-active-draggable":e})},r.createElement("div",{className:"h5p-discussion-argument-provided"},t&&r.createElement(U,null),n,r.createElement("button",{className:"h5p-discussion-argument-actions","aria-label":"See available actions","aria-expanded":a,"aria-controls":a?s:void 0,onClick:i,type:"button"},r.createElement("span",{className:"fa fa-caret-down"})))))}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function K(e){const{droppableId:t,children:n,additionalClassName:a,argumentsList:s}=e;return r.createElement("div",{className:a},r.createElement(h.bK,{droppableId:t,renderClone:(e,t,n)=>{const a=s.findIndex((e=>O(e)===n.draggableId)),i=s[a];return r.createElement(C,{provided:e,snapshot:t},r.createElement($,{activeDraggable:!0,statementDisplay:r.createElement(V,{argument:i.argumentText})}))}},((e,t)=>r.createElement("div",W({},e.droppableProps,{ref:e.innerRef,className:m()("h5p-discussion-column",{"h5p-discussion-drag-active":t.isDraggingOver&&null===t.draggingFromThisWith})}),n,e.placeholder))))}Y.propTypes={argument:i().object,onArgumentChange:i().func,startEditing:i().func,stopEditing:i().func,enableEditing:i().bool,onArgumentDelete:i().func,isDragging:i().bool,isDragEnabled:i().bool,actions:i().array},$.propTypes={activeDraggable:i().bool,isDragEnabled:i().bool,statementDisplay:i().object,toggle:i().func,closePopover:i().func},$.defaultProps={toggle:()=>{},isDragEnabled:!0,activeDraggable:!1},K.propTypes={droppableId:i().string.isRequired,additionalClassName:i().string,argumentsList:i().array},K.defaultProps={droppableId:null,additionalClassName:null,argumentsList:[]};var Z=K;function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}var X=function({droppablePrefix:e,label:t,disableDrop:n}){return r.createElement(h.bK,{droppableId:e+"-dzone",isDropDisabled:n},((e,n)=>r.createElement("div",G({},e.droppableProps,{ref:e.innerRef}),r.createElement("div",{className:m()("h5p-discussion-dropzone",{"h5p-discussion-active":n.isDraggingOver})},r.createElement("div",null,t)),r.createElement("div",{style:{display:"none"}},e.placeholder))))},Q=function(){const e=u(),{collectExportValues:t,registerReset:n,translate:a,behaviour:{allowAddingOfArguments:s=!0,provideSummary:i=!0}}=e;function c(){const{translate:t,params:{argumentsList:n=[]},behaviour:{randomizeArguments:r=!0}}=e;!0===r&&n.sort((()=>.5-Math.random()));const a=n.map(((e,t)=>new D({id:t,argumentText:e}))),s=[];return a.length>0&&(s.push(new L({id:"unprocessed",isArgumentDefaultList:!0,connectedArguments:a.filter((e=>e.id%2==0)).map((e=>e.id))})),s.push(new L({id:"unprocessed-2",isArgumentDefaultList:!0,connectedArguments:a.filter((e=>e.id%2==1)).map((e=>e.id))}))),s.push(new L({id:"pro",theme:"h5p-discussion-pro",useNoArgumentsPlaceholder:!0,title:t("argumentsFor")})),s.push(new L({id:"contra",theme:"h5p-discussion-against",useNoArgumentsPlaceholder:!0,title:t("argumentsAgainst")})),{categories:s,argumentsList:a,idCounter:a.length-1,hasRemainingUnprocessedArguments:a.length>0,actionDropActive:!1}}const l=(0,r.useCallback)((function(e,t){switch(t.type){case"move":{const{from:n,to:r}=t.payload,a=JSON.parse(JSON.stringify(e.categories)),s=a[a.findIndex((e=>O(e)===n.droppableId))].connectedArguments.splice(n.index,1);return a.map((e=>{e.actionTargetContainer=!1,O(e)===r.droppableId&&e.connectedArguments.splice(r.index,0,s[0])})),{...e,categories:a,hasRemainingUnprocessedArguments:a.filter((e=>e.isArgumentDefaultList&&e.connectedArguments.length>0)).length>0,actionDropActive:!1}}case"setEditMode":{const{id:n,editMode:r}=t.payload,a=e.argumentsList.map((e=>e.id===n?{...e,editMode:r}:e));return{...e,argumentsList:a}}case"editArgument":{const{id:n,argumentText:r}=t.payload,a=JSON.parse(JSON.stringify(e.argumentsList)),s=a.findIndex((e=>e.id===n));return-1!==s&&(a[s].argumentText=r),{...e,argumentsList:a}}case"deleteArgument":{const{id:n}=t.payload,r=JSON.parse(JSON.stringify(e.categories)).map((e=>(e.connectedArguments=e.connectedArguments.filter((e=>e!==n)),e))),a=e.argumentsList.filter((e=>e.id!==n));return{...e,categories:r,argumentsList:a}}case"addArgument":{const{id:n}=t.payload,r=Array.from(e.argumentsList),a=e.idCounter+1;r.push(new D({id:a,added:!0,editMode:!0}));const s=JSON.parse(JSON.stringify(e.categories)),i=s.findIndex((e=>e.id===n));return-1===i?{...e}:(s[i].connectedArguments.push(a),{...e,argumentsList:r,categories:s,idCounter:a})}case"reset":return c();case"setTargetContainer":{const n=JSON.parse(JSON.stringify(e.categories));return{...e,categories:n.map((e=>(e.actionTargetContainer=e.id===t.payload.container,e))),actionDropActive:!0}}default:return e}}),[]),[d,p]=(0,r.useReducer)(l,c());let b;function f(e,t){requestAnimationFrame((()=>{const n=t.shift();var r;e.move(n),t.length?f(e,t):(A.tq&&(r=n,(window.frameElement?parent:window).scrollTo({top:r.y,behavior:"smooth"})),e.drop())}))}function y(e){const t=d.categories.filter((e=>!0!==e.isArgumentDefaultList)).map((t=>new T({id:t.id,title:t.title,type:"category",activeCategory:-1!==t.connectedArguments.findIndex((t=>t===e.id)),onSelect:()=>function(e,t){const n=b.tryGetLock(e);if(!n)return;p({type:"setTargetContainer",payload:{container:t}});const r=(0,o.iz)(document.getElementById(t)),a=(0,o.iz)(document.getElementById(e)).borderBox.center,s={x:r.borderBox.center.x,y:r.borderBox.bottom-Math.min(15,r.borderBox.height/4)},i=n.fluidLift(a),c=[],l=(e,t,n,r)=>-(n-t)*(e/=r)*(e-2)+t;for(let e=0;e<60;e++)c.push({x:l(e,a.x,s.x,60),y:l(e,a.y,s.y,60)});f(i,c)}(O(e),t.id)})));return!0===s&&(t.push(new T({type:"edit",title:a("editArgument"),onSelect:()=>p({type:"setEditMode",payload:{id:e.id,editMode:!0}})})),t.push(new T({type:"delete",title:a("deleteArgument"),onSelect:()=>p({type:"deleteArgument",payload:{id:e.id}})}))),t}return(0,r.useEffect)((()=>{e.trigger("resize")}),[d.argumentsList,d.categories]),n((()=>p({type:"reset"}))),t("userInput",(()=>({categories:d.categories,argumentsList:d.argumentsList}))),r.createElement("div",{className:"h5p-discussion-surface"},r.createElement(h.Z5,{onDragEnd:function(e){let{destination:t,source:n}=e;t&&(Array.isArray(t.droppableId.match(/(.)+-dzone$/))&&(t.droppableId=t.droppableId.replace("-dzone",""),t.index=d.categories[d.categories.findIndex((e=>O(e)===t.droppableId))].connectedArguments.length),p({type:"move",payload:{from:n,to:t}}))},sensors:[e=>{b=e}]},r.createElement(E,{categoryId:"unprocessed",includeHeader:!1,additionalClassName:["h5p-discussion-unprocessed",d.hasRemainingUnprocessedArguments?"":"hidden"],useNoArgumentsPlaceholder:!1,addArgument:!1},d.categories.filter((e=>e.isArgumentDefaultList)).map(((e,t)=>r.createElement("div",{key:e.id},r.createElement(Z,{additionalClassName:m()("h5p-discussion-unprocessed-argument-list",{"h5p-discussion-right-aligned":H(t+1)}),droppableId:O(e),argumentsList:d.argumentsList},e.connectedArguments.map((e=>d.argumentsList[d.argumentsList.findIndex((t=>t.id===e))])).map(((e,t)=>r.createElement(x,{key:O(e),draggableId:O(e),dragIndex:t,ariaLabel:a("draggableItem",{argument:e.argumentText})},r.createElement(Y,{actions:y(e),isDragEnabled:!A.tq,argument:e,enableEditing:s,onArgumentChange:t=>p({type:"editArgument",payload:{id:e.id,argumentText:t}}),startEditing:()=>p({type:"setEditMode",payload:{id:e.id,editMode:!0}}),stopEditing:()=>p({type:"setEditMode",payload:{id:e.id,editMode:!1}})}))))))))),d.categories.filter((e=>!e.isArgumentDefaultList)).map(((e,t)=>r.createElement(E,{key:e.id,categoryId:e.id,includeHeader:null!==e.title,title:e.title,additionalClassName:[e.theme],useNoArgumentsPlaceholder:e.useNoArgumentsPlaceholder,addArgument:s,onAddArgument:()=>p({type:"addArgument",payload:{id:e.id}})},r.createElement(Z,{additionalClassName:m()("h5p-discussion-argument-list",{"h5p-discussion-right-aligned":H(t+1)}),droppableId:O(e),argumentsList:d.argumentsList},A.tq&&e.useNoArgumentsPlaceholder&&0===e.connectedArguments.length&&r.createElement("span",null,a("noArguments")),!A.tq&&0===e.connectedArguments.length&&r.createElement(X,{droppablePrefix:O(e),label:a("dropArgumentsHere"),disableDrop:d.actionDropActive||d.actionDropActive&&!e.actionTargetContainer}),e.connectedArguments.map((e=>d.argumentsList[d.argumentsList.findIndex((t=>t.id===e))])).map(((e,t)=>r.createElement(x,{key:O(e),draggableId:O(e),dragIndex:t,ariaLabel:a("draggableItem",{statement:e.argumentText})},r.createElement(Y,{actions:y(e),isDragEnabled:!A.tq,argument:e,enableEditing:s,onArgumentChange:t=>p({type:"editArgument",payload:{id:e.id,argumentText:t}}),startEditing:()=>p({type:"setEditMode",payload:{id:e.id,editMode:!0}}),stopEditing:()=>p({type:"setEditMode",payload:{id:e.id,editMode:!1}})}))))))))),!0===i&&r.createElement(g,null))},ee=function(){const e=u(),{translate:t}=e,n=(0,r.useRef)();let a,s;return r.createElement(r.Fragment,null,r.createElement("button",{className:"h5p-discussion-button-export",onClick:function(){const{translate:t}=e;s=function(){const{params:{header:t,description:n,summaryHeader:r},behaviour:{provideSummary:a=!0},translations:s,collectExportValues:i}=e,{resources:o,summary:c,userInput:l}=i();return Object.assign({},s,{mainTitle:t,description:P(n),summaryHeader:r,hasResources:o&&o.length>0,useSummary:a,hasSummaryComment:c&&c.length>0,summaryComment:c,resources:o,unprocessedArguments:l.categories.filter((e=>e.isArgumentDefaultList)).map((e=>e.connectedArguments)).reduce(((e,t)=>e.concat(t)),[]),proArguments:l.categories.filter((e=>"pro"===e.id)).map((e=>e.connectedArguments.map((e=>l.argumentsList[e])))).reduce(((e,t)=>e.concat(t)),[]),contraArguments:l.categories.filter((e=>"contra"===e.id)).map((e=>e.connectedArguments.map((e=>l.argumentsList[e])))).reduce(((e,t)=>e.concat(t)),[])})}(),e.triggerXAPIScored(0,0,"completed"),a=new H5P.ExportPage(k(s.mainTitle),Mustache.render('<div class="export-preview"><div class="page-header" role="heading" tabindex="-1"> <div class="page-title h1">{{mainTitle}}</div></div><div class="page-description">{{description}}</div><table class="page-pro-arguments"><tr><th>{{argumentsFor}}</th></tr><tr><td><ul>{{#proArguments}}<li>{{argumentText}}</li>{{/proArguments}}</ul>{{^proArguments}}{{noArguments}}{{/proArguments}}</td></tr></table><table class="page-contra-arguments"><tr><th>{{argumentsAgainst}}</th></tr><tr><td><ul>{{#contraArguments}}<li>{{argumentText}}</li>{{/contraArguments}}</ul>{{^contraArguments}}{{noArguments}}{{/contraArguments}}</td></tr></table>{{#useSummary}}{{#hasSummaryComment}}<div class="h2">{{summaryHeader}}</div><p>{{summaryComment}}</p>{{/hasSummaryComment}}{{/useSummary}}{{#hasResources}}<div class="h2">{{resourceHeader}}</div><table class="page-resources"><tr><th>{{resourceHeaderTitle}}</th><th>{{resourceHeaderIntro}}</th><th>{{resourceHeaderUrl}}</th></tr>{{#resources}}<tr><td>{{title}}</td><td>{{introduction}}</td><td>{{url}}</td></tr>{{/resources}}</table>{{/hasResources}}</div>',s),H5PIntegration.reportingIsEnabled||!1,k(t("submitText")),k(t("submitConfirmedText")),k(t("selectAll")),k(t("export")),H5P.instances[0].getLibraryFilePath("exportTemplate.docx"),s),a.getElement().prependTo(n.current),H5P.$window.on("resize",(()=>a.trigger("resize")))},type:"button"},r.createElement("span",{className:"h5p-ri hri-document"}),t("createDocument")),r.createElement("div",{className:"export-container",ref:n}))};const te=({handleClose:e,show:t,children:n,popoverContent:a,classnames:s=[],header:i,close:o,align:c="end",openerRect:l})=>(s.push("h5p-discussion-popover"),r.createElement(J.Popover,{containerClassName:s.join(" "),isOpen:t,positions:["top","bottom"],padding:10,containerStyle:{overflow:"unset"},align:c,onClickOutside:e,content:({position:t,popoverRect:n})=>r.createElement(J.ArrowContainer,{position:t,popoverRect:n,arrowColor:"white",arrowSize:10,childRect:l},r.createElement("div",{className:"h5p-discussion-popover-container"},r.createElement("div",{className:"h5p-discussion-popover-header"},r.createElement("div",null,i),r.createElement("button",{onClick:e,"aria-label":o,type:"button",className:"close-button"},r.createElement("span",{className:"h5p-ri hri-close"}))),r.createElement("div",{className:"h5p-discussion-popover-content"},a)))},n));te.propTypes={handleClose:i().func.isRequired,show:i().bool,popoverContent:i().object,classnames:i().array,header:i().string,close:i().string,openerRect:i().object};var ne=te,re=function(){const[e,t]=(0,r.useState)(!1),n=u(),a=(0,r.useRef)(null),{behaviour:{enableRetry:s=!1},reset:i,translations:o}=n;function c(n){a.current||(a.current=n?.target),t(!e)}const l=(0,r.useMemo)((()=>a.current?.getBoundingClientRect()),[a.current]);return r.createElement(r.Fragment,null,!0===s&&r.createElement(ne,{handleClose:c,show:e,classnames:Array.from(n.activeBreakpoints),close:o.close,header:o.restart,align:"start",openerRect:l,popoverContent:r.createElement("div",{role:"dialog","aria-labelledby":"resetTitle",className:"h5p-discussion-reset-modal"},r.createElement("div",{id:"resetTitle"},o.ifYouContinueAllYourChangesWillBeLost),r.createElement("div",null,r.createElement("button",{onClick:function(){i(),c()},className:"continue",type:"button"},o.continue),r.createElement("button",{onClick:c,className:"cancel",type:"button"},o.cancel)))},r.createElement("button",{className:"h5p-discussion-button-restart",onClick:c,type:"button"},r.createElement("span",{className:"h5p-ri hri-restart"}),o.restart)))},ae=function(){return r.createElement("section",{className:"h5p-discussion-footer"},r.createElement(re,null),r.createElement(ee,null))};function se(e){const t=(0,r.useRef)(),{id:n,language:a="en",collectExportValues:s,header:i,description:o="",resources:c}=e;return(0,r.useEffect)((()=>{const e=e=>0!==Object.keys(e).length&&e.constructor===Object;c.params.resourceList&&c.params.resourceList.filter(e).length>0&&(new H5P.ResourceList(c.params,n,a).attach(t.current),s("resources",(()=>c.params.resourceList.filter(e).map((e=>Object.assign({},{title:"",url:"",introduction:""},e)))||[])))}),[c]),r.createElement("article",null,r.createElement("div",{className:"h5p-discussion-header"},i),r.createElement("div",{className:"h5p-discussion-surface-main"},r.createElement("div",{className:"h5p-discussion-surface-info",ref:t},o&&r.createElement("div",{className:"h5p-discussion-description"},(0,p.ZP)(o))),r.createElement(Q,null)),r.createElement(ae,null))}se.propTypes={id:i().number,language:i().string,header:i().string,description:i().string,collectExportValues:i().func,resources:i().object,surface:i().string};var ie=se;function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}H5P.Discussion=function(){function e(e,t,n={}){H5P.EventDispatcher.call(this);const{language:s="en"}=n;let i;this.params=function(e){const t=e=>0!==Object.keys(e).length&&e.constructor===Object,n=e=>null!=e&&t(e)?Object.keys(e).reduce(((t,n)=>(t[n]=S(e[n]),t)),{}):e;let{header:r,description:a,argumentsList:s,summary:i,summaryHeader:o,summaryInstruction:c,l10n:l,resourceReport:u,resources:d}=e;return Array.isArray(s)&&(s=s.map((e=>S(e)))),d.params.resourceList&&d.params.resourceList.filter(t).length>0&&(d.params={...d.params,l10n:n(d.params.l10n),resourceList:d.params.resourceList.filter(t).map((e=>{const{title:t,introduction:n}=e;return{...e,title:S(t),introduction:S(n)}}))}),{...e,argumentsList:s,resources:d,header:S(r),description:S(a),summary:S(i),summaryHeader:S(o),summaryInstruction:S(c),l10n:n(l),resourceReport:n(u)}}(e),this.behaviour=this.params.behaviour||{},this.resetStack=[],this.collectExportValuesStack=[],this.wrapper=null,this.id=t,this.language=s,this.activityStartTime=new Date,this.activeBreakpoints=[],this.currentRatio=null,this.translations=Object.assign({},{summary:"Summary",typeYourReasonsForSuchAnswers:"Type your reasons for such answers",resources:"Resources",save:"Save",restart:"Restart",createDocument:"Create document",labelSummaryComment:"Summary comment",labelComment:"Comment",labelStatement:"Statement",labelNoComment:"No comment",labelResources:"Resources",selectAll:"Select all",export:"Export",addArgument:"Add argument",ifYouContinueAllYourChangesWillBeLost:"All the changes will be lost. Are you sure you wish to continue?",close:"Close",drag:"Drag",feedback:"Feedback",submitText:"Submit",submitConfirmedText:"Saved!",confirm:"Confirm",continue:"Continue",cancel:"Cancel",droparea:"Droparea :num",emptydroparea:"Empty droparea :index",draggableItem:"Draggable item :statement",dropzone:"Dropzone :index",dropzoneWithValue:"Dropzone :index with value :statement",noArguments:"No arguments",argumentsFor:"Arguments FOR",argumentsAgainst:"Arguments AGAINST",moveTo:"Move to",deleteArgument:"Delete argument",editArgument:"Edit argument",argument:"Argument",actionMenuTitle:"Action menu",actionMenuDescription:"Select the action you want to perform on this argument",dropArgumentsHere:"Drop arguments here"},this.params.l10n,this.params.resourceReport);const o=()=>{const e=document.createElement("div");e.classList.add("h5p-discussion-wrapper"),this.wrapper=e,a.render(r.createElement(l,{value:this},r.createElement(ie,oe({},this.params,{id:t,language:s,collectExportValues:this.collectExportValues}))),this.wrapper)};this.collectExportValues=(e,t)=>{if(void 0===e){const e={};return this.collectExportValuesStack.forEach((({key:t,callback:n})=>e[t]=n())),e}this.collectExportValuesStack.push({key:e,callback:t})},this.registerReset=e=>this.resetStack.push(e),this.attach=e=>{this.wrapper||o(),e[0].appendChild(this.wrapper),e[0].classList.add("h5p-discussion"),i=e[0]},this.getRect=()=>this.wrapper.getBoundingClientRect(),this.reset=()=>{this.resetStack.forEach((e=>e()))},this.addBreakPoints=(e,t=function(e){if(!e)return;const t=window.getComputedStyle(e);return e.offsetWidth/parseFloat(t.getPropertyValue("font-size"))}(i))=>{t!==this.currentRatio&&(this.activeBreakpoints=[],[{className:R,shouldAdd:e=>e>=22&&e<40},{className:j,shouldAdd:e=>e>=40&&e<60},{className:M,shouldAdd:e=>e>=60}].forEach((n=>{n.shouldAdd(t)?(e.classList.add(n.className),this.activeBreakpoints.push(n.className)):e.classList.remove(n.className)})),this.currentRatio=t)},this.resize=()=>{this.wrapper&&this.addBreakPoints(this.wrapper)},this.translate=(e,t)=>{let n=this.translations[e];return null!=t&&(n=Object.keys(t).map((e=>n.replace(e,t[e]))).toString()),n},this.getRect=this.getRect.bind(this),this.resize=this.resize.bind(this),this.on("resize",this.resize)}return e.prototype=Object.create(H5P.EventDispatcher.prototype),e.prototype.constructor=e,e}()}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var s=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=t,r.amdO={},e=[],r.O=function(t,n,a,s){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],s=e[u][2];for(var o=!0,c=0;c<n.length;c++)(!1&s||i>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(o=!1,s<i&&(i=s));if(o){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,a,s]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={732:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,i=n[0],o=n[1],c=n[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(c)var u=c(r)}for(t&&t(n);l<i.length;l++)s=i[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},n=self.webpackChunkh5p_discussion=self.webpackChunkh5p_discussion||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=r.O(void 0,[736],(function(){return r(20)}));a=r.O(a)}();